import{r as e,c as s,b as t}from"./vendor-WLJI06pL.js";import{u as a,L as r,a as i,b as l,c as n,N as o,R as c,d,B as m}from"./router-CxzeG6ny.js";import{u as x,a as u,b as h,Q as g,c as p}from"./query-Dx8r2HAg.js";import{z as b,n as f,F as y}from"./utils-DWkwjae3.js";import{S as v,U as j,a as w,L as N,X as k,M as S,E as C,P as _,b as A,c as R,G as F,d as P,e as E,f as T,g as D,h as M,F as L,C as V,i as O,j as W,A as U,k as I,l as q,T as $,B as z,m as B,Z as H,H as G,n as Y,o as Q,p as J,q as X,r as K,s as Z,t as ee,u as se,v as te,w as ae,x as re,y as ie,z as le,D as ne,I as oe,J as ce,K as de,N as me,O as xe,Q as ue,R as he,V as ge,W as pe,Y as be,_ as fe,$ as ye,a0 as ve}from"./ui-2OEtcGSc.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var je={exports:{}},we={},Ne=e,ke=Symbol.for("react.element"),Se=Symbol.for("react.fragment"),Ce=Object.prototype.hasOwnProperty,_e=Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ae={key:!0,ref:!0,__self:!0,__source:!0};function Re(e,s,t){var a,r={},i=null,l=null;for(a in void 0!==t&&(i=""+t),void 0!==s.key&&(i=""+s.key),void 0!==s.ref&&(l=s.ref),s)Ce.call(s,a)&&!Ae.hasOwnProperty(a)&&(r[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return{$$typeof:ke,type:e,key:i,ref:l,props:r,_owner:_e.current}}we.Fragment=Se,we.jsx=Re,we.jsxs=Re,je.exports=we;var Fe=je.exports,Pe={},Ee=s;Pe.createRoot=Ee.createRoot,Pe.hydrateRoot=Ee.hydrateRoot;const Te=()=>{const e=localStorage.getItem("token");return{Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"}},De=async(e,s={})=>{const t={headers:Te(),...s};s.data&&!s.body&&(t.body=JSON.stringify(s.data),t.headers["Content-Type"]="application/json");try{return(async e=>{if(!e.ok){let t="An error occurred";try{const s=await e.json();t=s.message||s.error||`HTTP error! status: ${e.status}`}catch(s){t=e.statusText||`HTTP error! status: ${e.status}`}throw new Error(t)}return e})(await fetch(e,t))}catch(a){if("TypeError"===a.name&&a.message.includes("fetch"))throw new Error("Network error: Unable to connect to the server. Please check your internet connection.");throw a}},Me=async()=>{const e=await fetch("/api/auth/me",{headers:Te()});if(!e.ok)throw new Error("Failed to fetch user data");return e.json()},Le=e.createContext(),Ve=()=>{const s=e.useContext(Le);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Oe=({children:s})=>{const[t,a]=e.useState(null),[r,i]=e.useState(!0),l=x(),n=()=>localStorage.getItem("token"),o=e=>{e?localStorage.setItem("token",e):localStorage.removeItem("token")},c=e=>{if(!e)return!0;try{return 1e3*JSON.parse(atob(e.split(".")[1])).exp<Date.now()}catch(s){return!0}},{data:d,isLoading:m,error:h}=u(["user"],Me,{enabled:!!n()&&!c(n()),retry:!1,onError:e=>{(e.message.includes("Not authorized")||e.message.includes("token"))&&(o(null),a(null))},onSuccess:e=>{a(e)}});e.useEffect(()=>{const e=n();!e||c(e)?(i(!1),e&&(o(null),a(null))):m||i(!1)},[m]);const g={user:t,loading:r,login:async(e,s)=>{try{const t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),r=await t.json();if(!t.ok)throw new Error(r.message||"Login failed");return o(r.token),a(r),l.invalidateQueries(["user"]),b.success("Login successful!"),r}catch(t){throw b.error(t.message),t}},register:async(e,s,t)=>{try{const r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:s,password:t})}),i=await r.json();if(!r.ok)throw new Error(i.message||"Registration failed");return o(i.token),a(i),l.invalidateQueries(["user"]),b.success("Registration successful!"),i}catch(r){throw b.error(r.message),r}},logout:()=>{o(null),a(null),l.clear(),b.success("Logged out successfully")},updateProfile:async e=>{try{const s=n();if(!s||c(s))throw new Error("Session expired. Please login again.");const t=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Profile update failed");return a(r),l.invalidateQueries(["user"]),b.success("Profile updated successfully!"),r}catch(s){throw b.error(s.message),s}},getToken:n,isTokenExpired:c};return Fe.jsx(Le.Provider,{value:g,children:s})},We=({children:s})=>{const{user:t,logout:i}=Ve(),[l,n]=e.useState(!1),o=a(),c=[{name:"Home",href:"/"},{name:"Posts",href:"/posts"},{name:"Categories",href:"/categories"},{name:"Compare",href:"/compare"}],d=e=>o.pathname===e;return Fe.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[Fe.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-50",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"flex justify-between items-center h-16",children:[Fe.jsx("div",{className:"flex items-center",children:Fe.jsxs(r,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 group",children:[Fe.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-200",children:Fe.jsx(v,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),Fe.jsx("span",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Revuo"})]})}),Fe.jsx("nav",{className:"hidden md:flex space-x-1",children:c.map(e=>Fe.jsx(r,{to:e.href,className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 "+(d(e.href)?"text-blue-600 bg-blue-50 shadow-sm":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"),children:e.name},e.name))}),Fe.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t?Fe.jsxs("div",{className:"relative",children:[Fe.jsxs("button",{onClick:()=>n(!l),className:"flex items-center space-x-2 sm:space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-all duration-200 touch-button",children:[t.avatar?Fe.jsx("img",{src:t.avatar,alt:t.username,className:"w-8 h-8 rounded-xl object-cover shadow-sm"}):Fe.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 rounded-xl flex items-center justify-center shadow-sm",children:Fe.jsx(j,{className:"w-4 h-4 text-blue-600"})}),Fe.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:t.username})]}),l&&Fe.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-2xl shadow-xl border border-gray-100 py-2 z-50",children:[Fe.jsxs(r,{to:"/profile",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>n(!1),children:[Fe.jsx(w,{className:"w-4 h-4 mr-3 text-gray-400"}),"Profile"]}),Fe.jsxs("button",{onClick:()=>{i(),n(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[Fe.jsx(N,{className:"w-4 h-4 mr-3 text-gray-400"}),"Logout"]})]})]}):Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(r,{to:"/login",className:"text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",children:"Login"}),Fe.jsx(r,{to:"/register",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:"Sign Up"})]}),Fe.jsx("button",{onClick:()=>n(!l),className:"md:hidden p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all duration-200 touch-button",children:l?Fe.jsx(k,{className:"w-5 h-5"}):Fe.jsx(S,{className:"w-5 h-5"})})]})]}),l&&Fe.jsx("div",{className:"md:hidden border-t border-gray-100 py-4",children:Fe.jsxs("nav",{className:"space-y-2",children:[c.map(e=>Fe.jsx(r,{to:e.href,className:"block px-4 py-3 rounded-xl text-base font-medium transition-all duration-200 touch-button "+(d(e.href)?"text-blue-600 bg-blue-50 shadow-sm":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>n(!1),children:e.name},e.name)),t&&Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(r,{to:"/profile",className:"block px-4 py-3 rounded-xl text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-all duration-200",onClick:()=>n(!1),children:"Profile"}),Fe.jsx("button",{onClick:()=>{i(),n(!1)},className:"block w-full text-left px-4 py-3 rounded-xl text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition-all duration-200",children:"Logout"})]})]})})]})}),Fe.jsx("main",{className:"flex-1",children:s}),Fe.jsx("footer",{className:"bg-white border-t border-gray-100 mt-16",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[Fe.jsxs("div",{className:"col-span-1 md:col-span-2",children:[Fe.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[Fe.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:Fe.jsx(v,{className:"w-6 h-6 text-white"})}),Fe.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Revuo"})]}),Fe.jsx("p",{className:"text-gray-600 max-w-md text-lg leading-relaxed",children:"The universal review platform where you can rate anything and everything. From apps to restaurants, movies to products - your opinion matters."})]}),Fe.jsxs("div",{children:[Fe.jsx("h3",{className:"text-sm font-semibold text-gray-900 tracking-wider uppercase mb-6",children:"Platform"}),Fe.jsxs("ul",{className:"space-y-3",children:[Fe.jsx("li",{children:Fe.jsx(r,{to:"/posts",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Posts"})}),Fe.jsx("li",{children:Fe.jsx(r,{to:"/categories",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Categories"})}),Fe.jsx("li",{children:Fe.jsx(r,{to:"/compare",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Compare"})})]})]}),Fe.jsxs("div",{children:[Fe.jsx("h3",{className:"text-sm font-semibold text-gray-900 tracking-wider uppercase mb-6",children:"Support"}),Fe.jsxs("ul",{className:"space-y-3",children:[Fe.jsx("li",{children:Fe.jsx(r,{to:"/help",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Help Center"})}),Fe.jsx("li",{children:Fe.jsx(r,{to:"/contact",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Contact Us"})})]})]})]}),Fe.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100",children:Fe.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Â© 2024 Revuo. All rights reserved."})})]})})]})},Ue=async(e={})=>{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t)});const t=`/api/entities?${s.toString()}`;return(await De(t)).json()},Ie=async e=>(await De(`/api/entities/${e}`)).json(),qe=async e=>{if(e instanceof FormData){const s=localStorage.getItem("token"),t={Authorization:s?`Bearer ${s}`:""},a=await fetch("/api/entities",{method:"POST",headers:t,body:e});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to create entity")}return a.json()}return(await De("/api/entities",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()},$e=async e=>(await De("/api/reviews",{method:"POST",body:JSON.stringify(e)})).json(),ze=async({reviewId:e,voteType:s})=>(await De(`/api/reviews/${e}/vote`,{method:"POST",body:JSON.stringify({voteType:s})})).json(),Be="https://en.wikipedia.org/api/rest_v1",He=async e=>{try{const s=await(async e=>{var s,t,a;try{const r="https://api.allorigins.win/raw?url=",i=`${Be}/page/search/${encodeURIComponent(e)}?limit=3`,l=await fetch(r+encodeURIComponent(i));if(!l.ok)throw new Error("Wikipedia search failed");const n=await l.json();if(!n.pages||0===n.pages.length)return null;const o=n.pages[0],c=`${Be}/page/summary/${encodeURIComponent(o.key)}`,d=await fetch(r+encodeURIComponent(c));if(!d.ok)throw new Error("Wikipedia page fetch failed");const m=await d.json();return{title:m.title,description:m.extract,image:(null==(s=m.thumbnail)?void 0:s.source)||null,url:(null==(a=null==(t=m.content_urls)?void 0:t.desktop)?void 0:a.page)||null,source:"Wikipedia",type:"web_preview"}}catch(r){return null}})(e);if(s)return s;const t=await(async e=>{try{const s={"salman khan":{title:"Salman Khan - Wikipedia",description:"Salman Khan is an Indian actor, film producer, and television personality who works in Hindi films. In a film career spanning over thirty years, Khan has received numerous awards, including two National Film Awards as a film producer, and two Filmfare Awards for acting.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Salman_Khan_at_Renault_Star_Guild_Awards.jpg/220px-Salman_Khan_at_Renault_Star_Guild_Awards.jpg",url:"https://en.wikipedia.org/wiki/Salman_Khan",source:"Google",type:"web_preview",category:"person",website:"https://en.wikipedia.org/wiki/Salman_Khan"},netflix:{title:"Netflix - Watch TV Shows Online, Watch Movies Online",description:"Watch Netflix movies & TV shows online or stream right to your smart TV, game console, PC, Mac, mobile, tablet and more.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/200px-Netflix_2015_logo.svg.png",url:"https://www.netflix.com",source:"Google",type:"web_preview",category:"website",website:"https://www.netflix.com"},spotify:{title:"Spotify - Web Player: Music for everyone",description:"Spotify is a digital music, podcast, and video service that gives you access to millions of songs and other content from creators all over the world.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/200px-Spotify_logo_without_text.svg.png",url:"https://www.spotify.com",source:"Google",type:"web_preview",category:"website",website:"https://www.spotify.com"},amazon:{title:"Amazon.com: Online Shopping for Electronics, Apparel, Computers, Books, DVDs & more",description:"Amazon.com: Online Shopping for Electronics, Apparel, Computers, Books, DVDs & more",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/200px-Amazon_logo.svg.png",url:"https://www.amazon.com",source:"Google",type:"web_preview",category:"website",website:"https://www.amazon.com"},youtube:{title:"YouTube: Home",description:"Share your videos with friends, family, and the world.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/YouTube_Logo_2017.svg/200px-YouTube_Logo_2017.svg.png",url:"https://www.youtube.com",source:"Google",type:"web_preview",category:"website",website:"https://www.youtube.com"},instagram:{title:"Instagram",description:"Create an account or log in to Instagram - A simple, fun & creative way to capture, edit & share photos, videos & messages with friends & family.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/200px-Instagram_logo_2016.svg.png",url:"https://www.instagram.com",source:"Google",type:"web_preview",category:"website",website:"https://www.instagram.com"},facebook:{title:"Facebook - Log In or Sign Up",description:"Create an account or log into Facebook. Connect with friends, family and other people you know. Share photos and videos, send messages and get updates.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Facebook_f_logo_%282019%29.svg/200px-Facebook_f_logo_%282019%29.svg.png",url:"https://www.facebook.com",source:"Google",type:"web_preview",category:"website",website:"https://www.facebook.com"},twitter:{title:"Twitter. It's what's happening.",description:"From breaking news and entertainment to sports and politics, get the full story with all the live commentary.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Twitter-logo.svg/200px-Twitter-logo.svg.png",url:"https://twitter.com",source:"Google",type:"web_preview",category:"website",website:"https://twitter.com"},linkedin:{title:"LinkedIn: Log In or Sign Up",description:"500 million+ members | Manage your professional identity. Build and engage with your professional network. Access knowledge, insights and opportunities.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/LinkedIn_logo_initials.png/200px-LinkedIn_logo_initials.png",url:"https://www.linkedin.com",source:"Google",type:"web_preview",category:"website",website:"https://www.linkedin.com"},google:{title:"Google",description:"Search the world's information, including webpages, images, videos and more. Google has many special features to help you find exactly what you're looking for.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/200px-Google_2015_logo.svg.png",url:"https://www.google.com",source:"Google",type:"web_preview",category:"website",website:"https://www.google.com"},mcdonalds:{title:"McDonald's: Burgers, Fries & More. Quality Ingredients.",description:"McDonald's is your trusted restaurant for burgers, fries, and more. Find McDonald's locations, deals, menu items, and more.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/McDonald%27s_Golden_Arches.svg/200px-McDonald%27s_Golden_Arches.svg.png",url:"https://www.mcdonalds.com",source:"Google",type:"web_preview",category:"place",website:"https://www.mcdonalds.com"},starbucks:{title:"Starbucks Coffee Company",description:"More than just great coffee. Join the Starbucks Rewardsâ„¢ program to earn free food and drinks, get free refills, pay and order with your phone, and more.",image:"https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/Starbucks_Corporation_Logo_2011.svg/200px-Starbucks_Corporation_Logo_2011.svg.png",url:"https://www.starbucks.com",source:"Google",type:"web_preview",category:"place",website:"https://www.starbucks.com"},uber:{title:"Uber | Request a ride",description:"Request a ride, hop in, and relax. Get a ride in minutes. Or become a driver and earn money on your schedule.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Uber_logo_2018.svg/200px-Uber_logo_2018.svg.png",url:"https://www.uber.com",source:"Google",type:"web_preview",category:"service",website:"https://www.uber.com"}},t=e.toLowerCase().trim();for(const[e,r]of Object.entries(s))if(t.includes(e)||e.includes(t))return r;let a="website";return t.includes("movie")||t.includes("film")?a="movie":t.includes("restaurant")||t.includes("food")||t.includes("cafe")?a="place":t.includes("app")||t.includes("software")?a="app":t.includes("product")||t.includes("buy")?a="product":(t.includes("service")||t.includes("company"))&&(a="service"),{title:`${e} - Official Website`,description:`Find official information about ${e}. This could be a website, product, service, or place that you can rate and review on Revuo.`,image:null,url:`https://www.google.com/search?q=${encodeURIComponent(e)}`,source:"Google",type:"web_preview",category:a,website:`https://www.google.com/search?q=${encodeURIComponent(e)}`}}catch(s){return null}})(e);return t||{title:`${e} - Web Search`,description:`We found information about "${e}" on the web. This could be a website, product, service, or place that you can rate and review on Revuo.`,image:null,url:`https://www.google.com/search?q=${encodeURIComponent(e)}`,source:"Web Search",type:"web_preview"}}catch(s){return{title:`${e} - Web Search`,description:`We found information about "${e}" on the web. This could be a website, product, service, or place that you can rate and review on Revuo.`,image:null,url:`https://www.google.com/search?q=${encodeURIComponent(e)}`,source:"Web Search",type:"web_preview"}}},Ge=({data:e,onAddToRevuo:s})=>Fe.jsx("div",{className:"p-4",children:Fe.jsxs("div",{className:"flex items-start space-x-4",children:[Fe.jsx("div",{className:"flex-shrink-0",children:e.imageUrl?Fe.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-16 h-16 rounded-xl object-cover shadow-sm",onError:e=>{e.target.style.display="none"}}):Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center",children:Fe.jsx(C,{className:"w-6 h-6 text-gray-400"})})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:e.title}),e.description&&Fe.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsxs("button",{onClick:()=>{s&&s({title:e.title,description:e.description,url:e.url,imageUrl:e.imageUrl})},className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(_,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Add to Revuo"})]}),e.url&&Fe.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors",children:[Fe.jsx(C,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Visit"})]})]})]})]})}),Ye=({onAddToRevuo:s})=>{const[t,a]=e.useState(""),[i,l]=e.useState(null),[n,o]=e.useState(!1),[c,d]=e.useState(!1),[m,x]=e.useState(""),h=e.useRef(null),g=e.useRef(null);e.useEffect(()=>(h.current&&clearTimeout(h.current),t.length>=1?h.current=setTimeout(()=>{x(t)},150):x(""),()=>{h.current&&clearTimeout(h.current)}),[t]);const{data:p,isLoading:b}=u(["instant-search",m],()=>(async(e,s=8)=>{if(!e||0===e.trim().length)return{results:[]};const t=`/api/entities/instant?${new URLSearchParams({q:e.trim(),limit:s.toString()}).toString()}`;return(await De(t)).json()})(m,6),{enabled:m.length>=1,staleTime:6e4,cacheTime:3e5,refetchOnWindowFocus:!1,retry:1,placeholderData:{results:[]}});e.useEffect(()=>{m.length>=2?(o(!0),He(m).then(e=>{l(e)}).catch(e=>{}).finally(()=>{o(!1)})):l(null)},[m]),e.useEffect(()=>{d(t.length>=1)},[t]);const f=e=>{var a,r,i;const l=(null==(i=null==(r=null==(a=e.title)?void 0:a.replace(/ - Wikipedia$/,""))?void 0:r.replace(/ - Google Search$/,""))?void 0:i.replace(/ \| .*$/,""))||e.name||t;let n="website";const o=(e.title||e.name||"").toLowerCase();o.includes("movie")||o.includes("film")?n="movie":o.includes("app")||o.includes("mobile")?n="app":o.includes("restaurant")||o.includes("cafe")||o.includes("hotel")?n="place":(o.includes("product")||o.includes("buy"))&&(n="product");const c=e.url&&!e.url.includes("google.com/search")?e.url:"";s({name:l,description:e.description||`Information about ${l}`,category:n,website:c,logoUrl:e.imageUrl||e.logo})},y=e=>{switch(e){case"app":return"ðŸ“±";case"website":return"ðŸŒ";case"movie":return"ðŸŽ¬";case"place":case"restaurant":return"ðŸ“";case"product":return"ðŸ›ï¸";case"service":return"âš™ï¸";default:return"ðŸ“‹"}},j=e=>{switch(e){case"app":return"bg-blue-100 text-blue-600";case"website":return"bg-purple-100 text-purple-600";case"movie":return"bg-red-100 text-red-600";case"place":case"restaurant":return"bg-green-100 text-green-600";case"product":return"bg-yellow-100 text-yellow-600";default:return"bg-gray-100 text-gray-600"}};return Fe.jsxs("div",{className:"relative w-full",children:[Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:Fe.jsx(A,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{ref:g,type:"text",value:t,onChange:e=>{a(e.target.value)},onFocus:()=>{t.length>=1&&d(!0)},onBlur:()=>{setTimeout(()=>d(!1),200)},onKeyDown:e=>{var s;"Escape"===e.key&&(d(!1),null==(s=g.current)||s.blur())},placeholder:"Search for anything - apps, restaurants, movies, products...",className:"block w-full pl-12 pr-12 py-4 text-lg bg-white border-0 rounded-2xl shadow-lg focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-transparent transition-all duration-200 placeholder-gray-500"}),t&&Fe.jsx("button",{onClick:()=>{var e;a(""),d(!1),null==(e=g.current)||e.focus()},className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&Fe.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 max-h-96 overflow-y-auto",children:[(b||n)&&Fe.jsx("div",{className:"p-6 text-center",children:Fe.jsxs("div",{className:"inline-flex items-center space-x-2",children:[Fe.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),Fe.jsx("span",{className:"text-gray-600",children:"Searching..."})]})}),(null==p?void 0:p.results)&&p.results.length>0&&Fe.jsxs("div",{className:"border-b border-gray-100",children:[Fe.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-blue-50 to-purple-50",children:Fe.jsxs("div",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-700",children:[Fe.jsx(v,{className:"w-4 h-4 text-blue-500"}),Fe.jsx("span",{children:"Instant Results"}),Fe.jsxs("span",{className:"text-xs text-gray-500",children:["(",p.count," found)"]})]})}),p.results.map(e=>{return Fe.jsx(r,{to:`/entity/${e._id}`,className:"block p-4 hover:bg-gray-50 transition-colors border-b border-gray-50 last:border-b-0",children:Fe.jsxs("div",{className:"flex items-center space-x-4",children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-12 h-12 rounded-xl object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,Fe.jsx("div",{className:`w-12 h-12 ${j(e.category)} rounded-xl flex items-center justify-center ${e.logo?"hidden":""}`,children:Fe.jsx("span",{className:"text-lg",children:y(e.category)})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),Fe.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j(e.category)}`,children:e.category})]}),Fe.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),Fe.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[(s=e.averageRating,Fe.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(e=>Fe.jsx(P,{className:"w-3 h-3 "+(e<=s?"text-yellow-400 fill-current":"text-gray-300")},e))})),Fe.jsxs("span",{className:"text-sm text-gray-600",children:[e.averageRating.toFixed(1)," (",e.totalReviews," reviews)"]}),e.viewCount>0&&Fe.jsxs(Fe.Fragment,{children:[Fe.jsx("span",{className:"text-gray-400",children:"â€¢"}),Fe.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[Fe.jsx(R,{className:"w-3 h-3"}),Fe.jsx("span",{children:e.viewCount})]})]})]})]}),Fe.jsx(F,{className:"w-4 h-4 text-gray-400"})]})},e._id);var s})]}),i&&Fe.jsxs("div",{className:"border-b border-gray-100",children:[Fe.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-green-50 to-blue-50",children:Fe.jsxs("div",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-700",children:[Fe.jsx(C,{className:"w-4 h-4 text-green-500"}),Fe.jsx("span",{children:"Web Preview"})]})}),Fe.jsx(Ge,{data:i,onAddToRevuo:f})]}),!b&&!n&&(!(null==p?void 0:p.results)||0===p.results.length)&&!i&&t.length>=2&&Fe.jsxs("div",{className:"p-6 text-center",children:[Fe.jsxs("div",{className:"text-gray-500 mb-4",children:['No results found for "',t,'"']}),Fe.jsxs("button",{onClick:()=>f({name:t,description:`Add information about ${t}`}),className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[Fe.jsx(_,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Add to Revuo"})]})]}),t.length>=1&&Fe.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100",children:Fe.jsxs("div",{className:"flex items-center justify-between text-sm",children:[Fe.jsx("span",{className:"text-gray-600",children:"Quick actions:"}),Fe.jsx("div",{className:"flex space-x-2",children:Fe.jsxs("button",{onClick:()=>f({name:t,description:`Add information about ${t}`}),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:['Add "',t,'"']})})]})})]})]})};var Qe=e=>"checkbox"===e.type,Je=e=>e instanceof Date,Xe=e=>null==e;const Ke=e=>"object"==typeof e;var Ze=e=>!Xe(e)&&!Array.isArray(e)&&Ke(e)&&!Je(e),es="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function ss(e){let s;const t=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)s=new Date(e);else{if(es&&(e instanceof Blob||a)||!t&&!Ze(e))return e;if(s=t?[]:Object.create(Object.getPrototypeOf(e)),t||(e=>{const s=e.constructor&&e.constructor.prototype;return Ze(s)&&s.hasOwnProperty("isPrototypeOf")})(e))for(const t in e)e.hasOwnProperty(t)&&(s[t]=ss(e[t]));else s=e}return s}var ts=e=>/^\w*$/.test(e),as=e=>void 0===e,rs=e=>Array.isArray(e)?e.filter(Boolean):[],is=e=>rs(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ls=(e,s,t)=>{if(!s||!Ze(e))return t;const a=(ts(s)?[s]:is(s)).reduce((e,s)=>Xe(e)?e:e[s],e);return as(a)||a===e?as(e[s])?t:e[s]:a},ns=e=>"boolean"==typeof e,os=(e,s,t)=>{let a=-1;const r=ts(s)?[s]:is(s),i=r.length,l=i-1;for(;++a<i;){const s=r[a];let i=t;if(a!==l){const t=e[s];i=Ze(t)||Array.isArray(t)?t:isNaN(+r[a+1])?{}:[]}if("__proto__"===s||"constructor"===s||"prototype"===s)return;e[s]=i,e=e[s]}};const cs="blur",ds="focusout",ms="onBlur",xs="onChange",us="onSubmit",hs="onTouched",gs="all",ps="max",bs="min",fs="maxLength",ys="minLength",vs="pattern",js="required",ws="validate";t.createContext(null).displayName="HookFormContext";const Ns="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;var ks=e=>"string"==typeof e,Ss=e=>Xe(e)||!Ke(e);function Cs(e,s,t=new WeakSet){if(Ss(e)||Ss(s))return e===s;if(Je(e)&&Je(s))return e.getTime()===s.getTime();const a=Object.keys(e),r=Object.keys(s);if(a.length!==r.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const i of a){const a=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=s[i];if(Je(a)&&Je(e)||Ze(a)&&Ze(e)||Array.isArray(a)&&Array.isArray(e)?!Cs(a,e,t):a!==e)return!1}}return!0}var _s=(e,s,t,a,r)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:r||!0}}:{},As=e=>Array.isArray(e)?e:[e],Rs=()=>{let e=[];return{get observers(){return e},next:s=>{for(const t of e)t.next&&t.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(e=>e!==s)}}),unsubscribe:()=>{e=[]}}},Fs=e=>Ze(e)&&!Object.keys(e).length,Ps=e=>"file"===e.type,Es=e=>"function"==typeof e,Ts=e=>{if(!es)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ds=e=>"select-multiple"===e.type,Ms=e=>"radio"===e.type,Ls=e=>Ts(e)&&e.isConnected;function Vs(e,s){const t=Array.isArray(s)?s:ts(s)?[s]:is(s),a=1===t.length?e:function(e,s){const t=s.slice(0,-1).length;let a=0;for(;a<t;)e=as(e)?a++:e[s[a++]];return e}(e,t),r=t.length-1,i=t[r];return a&&delete a[i],0!==r&&(Ze(a)&&Fs(a)||Array.isArray(a)&&function(e){for(const s in e)if(e.hasOwnProperty(s)&&!as(e[s]))return!1;return!0}(a))&&Vs(e,t.slice(0,-1)),e}var Os=e=>{for(const s in e)if(Es(e[s]))return!0;return!1};function Ws(e,s={}){const t=Array.isArray(e);if(Ze(e)||t)for(const a in e)Array.isArray(e[a])||Ze(e[a])&&!Os(e[a])?(s[a]=Array.isArray(e[a])?[]:{},Ws(e[a],s[a])):Xe(e[a])||(s[a]=!0);return s}function Us(e,s,t){const a=Array.isArray(e);if(Ze(e)||a)for(const r in e)Array.isArray(e[r])||Ze(e[r])&&!Os(e[r])?as(s)||Ss(t[r])?t[r]=Array.isArray(e[r])?Ws(e[r],[]):{...Ws(e[r])}:Us(e[r],Xe(s)?{}:s[r],t[r]):t[r]=!Cs(e[r],s[r]);return t}var Is=(e,s)=>Us(e,s,Ws(s));const qs={value:!1,isValid:!1},$s={value:!0,isValid:!0};var zs=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!as(e[0].attributes.value)?as(e[0].value)||""===e[0].value?$s:{value:e[0].value,isValid:!0}:$s:qs}return qs},Bs=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:a})=>as(e)?e:s?""===e?NaN:e?+e:e:t&&ks(e)?new Date(e):a?a(e):e;const Hs={isValid:!1,value:null};var Gs=e=>Array.isArray(e)?e.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Hs):Hs;function Ys(e){const s=e.ref;return Ps(s)?s.files:Ms(s)?Gs(e.refs).value:Ds(s)?[...s.selectedOptions].map(({value:e})=>e):Qe(s)?zs(e.refs).value:Bs(as(s.value)?e.ref.value:s.value,e)}var Qs=e=>e instanceof RegExp,Js=e=>as(e)?e:Qs(e)?e.source:Ze(e)?Qs(e.value)?e.value.source:e.value:e,Xs=e=>({isOnSubmit:!e||e===us,isOnBlur:e===ms,isOnChange:e===xs,isOnAll:e===gs,isOnTouch:e===hs});const Ks="AsyncFunction";var Zs=e=>!!e&&!!e.validate&&!!(Es(e.validate)&&e.validate.constructor.name===Ks||Ze(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Ks)),et=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const st=(e,s,t,a)=>{for(const r of t||Object.keys(e)){const t=ls(e,r);if(t){const{_f:e,...i}=t;if(e){if(e.refs&&e.refs[0]&&s(e.refs[0],r)&&!a)return!0;if(e.ref&&s(e.ref,e.name)&&!a)return!0;if(st(i,s))break}else if(Ze(i)&&st(i,s))break}}};function tt(e,s,t){const a=ls(e,t);if(a||ts(t))return{error:a,name:t};const r=t.split(".");for(;r.length;){const a=r.join("."),i=ls(s,a),l=ls(e,a);if(i&&!Array.isArray(i)&&t!==a)return{name:t};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};r.pop()}return{name:t}}var at=(e,s,t)=>{const a=As(ls(e,t));return os(a,"root",s[t]),os(e,t,a),e},rt=e=>ks(e);function it(e,s,t="validate"){if(rt(e)||Array.isArray(e)&&e.every(rt)||ns(e)&&!e)return{type:t,message:rt(e)?e:"",ref:s}}var lt=e=>Ze(e)&&!Qs(e)?e:{value:e,message:""},nt=async(e,s,t,a,r,i)=>{const{ref:l,refs:n,required:o,maxLength:c,minLength:d,min:m,max:x,pattern:u,validate:h,name:g,valueAsNumber:p,mount:b}=e._f,f=ls(t,g);if(!b||s.has(g))return{};const y=n?n[0]:l,v=e=>{r&&y.reportValidity&&(y.setCustomValidity(ns(e)?"":e||""),y.reportValidity())},j={},w=Ms(l),N=Qe(l),k=w||N,S=(p||Ps(l))&&as(l.value)&&as(f)||Ts(l)&&""===l.value||""===f||Array.isArray(f)&&!f.length,C=_s.bind(null,g,a,j),_=(e,s,t,a=fs,r=ys)=>{const i=e?s:t;j[g]={type:e?a:r,message:i,ref:l,...C(e?a:r,i)}};if(i?!Array.isArray(f)||!f.length:o&&(!k&&(S||Xe(f))||ns(f)&&!f||N&&!zs(n).isValid||w&&!Gs(n).isValid)){const{value:e,message:s}=rt(o)?{value:!!o,message:o}:lt(o);if(e&&(j[g]={type:js,message:s,ref:y,...C(js,s)},!a))return v(s),j}if(!(S||Xe(m)&&Xe(x))){let e,s;const t=lt(x),r=lt(m);if(Xe(f)||isNaN(f)){const a=l.valueAsDate||new Date(f),i=e=>new Date((new Date).toDateString()+" "+e),n="time"==l.type,o="week"==l.type;ks(t.value)&&f&&(e=n?i(f)>i(t.value):o?f>t.value:a>new Date(t.value)),ks(r.value)&&f&&(s=n?i(f)<i(r.value):o?f<r.value:a<new Date(r.value))}else{const a=l.valueAsNumber||(f?+f:f);Xe(t.value)||(e=a>t.value),Xe(r.value)||(s=a<r.value)}if((e||s)&&(_(!!e,t.message,r.message,ps,bs),!a))return v(j[g].message),j}if((c||d)&&!S&&(ks(f)||i&&Array.isArray(f))){const e=lt(c),s=lt(d),t=!Xe(e.value)&&f.length>+e.value,r=!Xe(s.value)&&f.length<+s.value;if((t||r)&&(_(t,e.message,s.message),!a))return v(j[g].message),j}if(u&&!S&&ks(f)){const{value:e,message:s}=lt(u);if(Qs(e)&&!f.match(e)&&(j[g]={type:vs,message:s,ref:l,...C(vs,s)},!a))return v(s),j}if(h)if(Es(h)){const e=it(await h(f,t),y);if(e&&(j[g]={...e,...C(ws,e.message)},!a))return v(e.message),j}else if(Ze(h)){let e={};for(const s in h){if(!Fs(e)&&!a)break;const r=it(await h[s](f,t),y,s);r&&(e={...r,...C(s,r.message)},v(r.message),a&&(j[g]=e))}if(!Fs(e)&&(j[g]={ref:y,...e},!a))return j}return v(!0),j};const ot={mode:us,reValidateMode:xs,shouldFocusError:!0};function ct(e={}){let s,t={...ot,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Es(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(Ze(t.defaultValues)||Ze(t.values))&&ss(t.defaultValues||t.values)||{},l=t.shouldUnregister?{}:ss(i),n={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...d};const x={array:Rs(),state:Rs()},u=t.criteriaMode===gs,h=async e=>{if(!t.disabled&&(d.isValid||m.isValid||e)){const e=t.resolver?Fs((await y()).errors):await v(r,!0);e!==a.isValid&&x.state.next({isValid:e})}},g=(e,s)=>{!t.disabled&&(d.isValidating||d.validatingFields||m.isValidating||m.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(s?os(a.validatingFields,e,s):Vs(a.validatingFields,e))}),x.state.next({validatingFields:a.validatingFields,isValidating:!Fs(a.validatingFields)}))},p=(e,s,t,a)=>{const o=ls(r,e);if(o){const r=ls(l,e,as(t)?ls(i,e):t);as(r)||a&&a.defaultChecked||s?os(l,e,s?r:Ys(o._f)):N(e,r),n.mount&&h()}},b=(e,s,r,l,n)=>{let o=!1,c=!1;const u={name:e};if(!t.disabled){if(!r||l){(d.isDirty||m.isDirty)&&(c=a.isDirty,a.isDirty=u.isDirty=j(),o=c!==u.isDirty);const t=Cs(ls(i,e),s);c=!!ls(a.dirtyFields,e),t?Vs(a.dirtyFields,e):os(a.dirtyFields,e,!0),u.dirtyFields=a.dirtyFields,o=o||(d.dirtyFields||m.dirtyFields)&&c!==!t}if(r){const s=ls(a.touchedFields,e);s||(os(a.touchedFields,e,r),u.touchedFields=a.touchedFields,o=o||(d.touchedFields||m.touchedFields)&&s!==r)}o&&n&&x.state.next(u)}return o?u:{}},f=(e,r,i,l)=>{const n=ls(a.errors,e),o=(d.isValid||m.isValid)&&ns(r)&&a.isValid!==r;var u;if(t.delayError&&i?(u=()=>((e,s)=>{os(a.errors,e,s),x.state.next({errors:a.errors})})(e,i),s=e=>{clearTimeout(c),c=setTimeout(u,e)},s(t.delayError)):(clearTimeout(c),s=null,i?os(a.errors,e,i):Vs(a.errors,e)),(i?!Cs(n,i):n)||!Fs(l)||o){const s={...l,...o&&ns(r)?{isValid:r}:{},errors:a.errors,name:e};a={...a,...s},x.state.next(s)}},y=async e=>{g(e,!0);const s=await t.resolver(l,t.context,((e,s,t,a)=>{const r={};for(const i of e){const e=ls(s,i);e&&os(r,i,e._f)}return{criteriaMode:t,names:[...e],fields:r,shouldUseNativeValidation:a}})(e||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(e),s},v=async(e,s,r={valid:!0})=>{for(const i in e){const n=e[i];if(n){const{_f:e,...c}=n;if(e){const c=o.array.has(e.name),m=n._f&&Zs(n._f);m&&d.validatingFields&&g([i],!0);const x=await nt(n,o.disabled,l,u,t.shouldUseNativeValidation&&!s,c);if(m&&d.validatingFields&&g([i]),x[e.name]&&(r.valid=!1,s))break;!s&&(ls(x,e.name)?c?at(a.errors,x,e.name):os(a.errors,e.name,x[e.name]):Vs(a.errors,e.name))}!Fs(c)&&await v(c,s,r)}}return r.valid},j=(e,s)=>!t.disabled&&(e&&s&&os(l,e,s),!Cs(R(),i)),w=(e,s,t)=>((e,s,t,a,r)=>ks(e)?(a&&s.watch.add(e),ls(t,e,r)):Array.isArray(e)?e.map(e=>(a&&s.watch.add(e),ls(t,e))):(a&&(s.watchAll=!0),t))(e,o,{...n.mount?l:as(s)?i:ks(e)?{[e]:s}:s},t,s),N=(e,s,t={})=>{const a=ls(r,e);let i=s;if(a){const t=a._f;t&&(!t.disabled&&os(l,e,Bs(s,t)),i=Ts(t.ref)&&Xe(s)?"":s,Ds(t.ref)?[...t.ref.options].forEach(e=>e.selected=i.includes(e.value)):t.refs?Qe(t.ref)?t.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(s=>s===e.value):e.checked=i===e.value||!!i)}):t.refs.forEach(e=>e.checked=e.value===i):Ps(t.ref)?t.ref.value="":(t.ref.value=i,t.ref.type||x.state.next({name:e,values:ss(l)})))}(t.shouldDirty||t.shouldTouch)&&b(e,i,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&A(e)},k=(e,s,t)=>{for(const a in s){if(!s.hasOwnProperty(a))return;const i=s[a],l=e+"."+a,n=ls(r,l);(o.array.has(e)||Ze(i)||n&&!n._f)&&!Je(i)?k(l,i,t):N(l,i,t)}},S=(e,s,t={})=>{const c=ls(r,e),u=o.array.has(e),h=ss(s);os(l,e,h),u?(x.array.next({name:e,values:ss(l)}),(d.isDirty||d.dirtyFields||m.isDirty||m.dirtyFields)&&t.shouldDirty&&x.state.next({name:e,dirtyFields:Is(i,l),isDirty:j(e,h)})):!c||c._f||Xe(h)?N(e,h,t):k(e,h,t),et(e,o)&&x.state.next({...a,name:e}),x.state.next({name:n.mount?e:void 0,values:ss(l)})},C=async e=>{n.mount=!0;const i=e.target;let c=i.name,p=!0;const j=ls(r,c),w=e=>{p=Number.isNaN(e)||Je(e)&&isNaN(e.getTime())||Cs(e,ls(l,c,e))},N=Xs(t.mode),k=Xs(t.reValidateMode);if(j){let n,C;const _=i.type?Ys(j._f):(e=>Ze(e)&&e.target?Qe(e.target)?e.target.checked:e.target.value:e)(e),R=e.type===cs||e.type===ds,F=!((S=j._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||t.resolver||ls(a.errors,c)||j._f.deps)||((e,s,t,a,r)=>!r.isOnAll&&(!t&&r.isOnTouch?!(s||e):(t?a.isOnBlur:r.isOnBlur)?!e:!(t?a.isOnChange:r.isOnChange)||e))(R,ls(a.touchedFields,c),a.isSubmitted,k,N),P=et(c,o,R);os(l,c,_),R?i&&i.readOnly||(j._f.onBlur&&j._f.onBlur(e),s&&s(0)):j._f.onChange&&j._f.onChange(e);const E=b(c,_,R),T=!Fs(E)||P;if(!R&&x.state.next({name:c,type:e.type,values:ss(l)}),F)return(d.isValid||m.isValid)&&("onBlur"===t.mode?R&&h():R||h()),T&&x.state.next({name:c,...P?{}:E});if(!R&&P&&x.state.next({...a}),t.resolver){const{errors:e}=await y([c]);if(w(_),p){const s=tt(a.errors,r,c),t=tt(e,r,s.name||c);n=t.error,c=t.name,C=Fs(e)}}else g([c],!0),n=(await nt(j,o.disabled,l,u,t.shouldUseNativeValidation))[c],g([c]),w(_),p&&(n?C=!1:(d.isValid||m.isValid)&&(C=await v(r,!0)));p&&(j._f.deps&&A(j._f.deps),f(c,C,n,E))}var S},_=(e,s)=>{if(ls(a.errors,s)&&e.focus)return e.focus(),1},A=async(e,s={})=>{let i,l;const n=As(e);if(t.resolver){const s=await(async e=>{const{errors:s}=await y(e);if(e)for(const t of e){const e=ls(s,t);e?os(a.errors,t,e):Vs(a.errors,t)}else a.errors=s;return s})(as(e)?e:n);i=Fs(s),l=e?!n.some(e=>ls(s,e)):i}else e?(l=(await Promise.all(n.map(async e=>{const s=ls(r,e);return await v(s&&s._f?{[e]:s}:s)}))).every(Boolean),(l||a.isValid)&&h()):l=i=await v(r);return x.state.next({...!ks(e)||(d.isValid||m.isValid)&&i!==a.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:a.errors}),s.shouldFocus&&!l&&st(r,_,e?n:o.mount),l},R=e=>{const s={...n.mount?l:i};return as(e)?s:ks(e)?ls(s,e):e.map(e=>ls(s,e))},F=(e,s)=>({invalid:!!ls((s||a).errors,e),isDirty:!!ls((s||a).dirtyFields,e),error:ls((s||a).errors,e),isValidating:!!ls(a.validatingFields,e),isTouched:!!ls((s||a).touchedFields,e)}),P=(e,s,t)=>{const i=(ls(r,e,{_f:{}})._f||{}).ref,l=ls(a.errors,e)||{},{ref:n,message:o,type:c,...d}=l;os(a.errors,e,{...d,...s,ref:i}),x.state.next({name:e,errors:a.errors,isValid:!1}),t&&t.shouldFocus&&i&&i.focus&&i.focus()},E=e=>x.state.subscribe({next:s=>{var t,r,n;t=e.name,r=s.name,n=e.exact,t&&r&&t!==r&&!As(t).some(e=>e&&(n?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,s,t,a)=>{t(e);const{name:r,...i}=e;return Fs(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(e=>s[e]===(!a||gs))})(s,e.formState||d,U,e.reRenderRoot)||e.callback({values:{...l},...a,...s,defaultValues:i})}}).unsubscribe,T=(e,s={})=>{for(const n of e?As(e):o.mount)o.mount.delete(n),o.array.delete(n),s.keepValue||(Vs(r,n),Vs(l,n)),!s.keepError&&Vs(a.errors,n),!s.keepDirty&&Vs(a.dirtyFields,n),!s.keepTouched&&Vs(a.touchedFields,n),!s.keepIsValidating&&Vs(a.validatingFields,n),!t.shouldUnregister&&!s.keepDefaultValue&&Vs(i,n);x.state.next({values:ss(l)}),x.state.next({...a,...s.keepDirty?{isDirty:j()}:{}}),!s.keepIsValid&&h()},D=({disabled:e,name:s})=>{(ns(e)&&n.mount||e||o.disabled.has(s))&&(e?o.disabled.add(s):o.disabled.delete(s))},M=(e,s={})=>{let a=ls(r,e);const l=ns(s.disabled)||ns(t.disabled);return os(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...s}}),o.mount.add(e),a?D({disabled:ns(s.disabled)?s.disabled:t.disabled,name:e}):p(e,!0,s.value),{...l?{disabled:s.disabled||t.disabled}:{},...t.progressive?{required:!!s.required,min:Js(s.min),max:Js(s.max),minLength:Js(s.minLength),maxLength:Js(s.maxLength),pattern:Js(s.pattern)}:{},name:e,onChange:C,onBlur:C,ref:l=>{if(l){M(e,s),a=ls(r,e);const t=as(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,n=(e=>Ms(e)||Qe(e))(t),o=a._f.refs||[];if(n?o.find(e=>e===t):t===a._f.ref)return;os(r,e,{_f:{...a._f,...n?{refs:[...o.filter(Ls),t,...Array.isArray(ls(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),p(e,!1,void 0,t)}else a=ls(r,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||s.shouldUnregister)&&(!((e,s)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(s)))(o.array,e)||!n.action)&&o.unMount.add(e)}}},L=()=>t.shouldFocusError&&st(r,_,o.mount),V=(e,s)=>async i=>{let n;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=ss(l);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:s}=await y();a.errors=e,c=ss(s)}else await v(r);if(o.disabled.size)for(const e of o.disabled)Vs(c,e);if(Vs(a.errors,"root"),Fs(a.errors)){x.state.next({errors:{}});try{await e(c,i)}catch(d){n=d}}else s&&await s({...a.errors},i),L(),setTimeout(L);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fs(a.errors)&&!n,submitCount:a.submitCount+1,errors:a.errors}),n)throw n},O=(e,s={})=>{const c=e?ss(e):i,m=ss(c),u=Fs(e),h=u?i:m;if(s.keepDefaultValues||(i=c),!s.keepValues){if(s.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Is(i,l))]);for(const s of Array.from(e))ls(a.dirtyFields,s)?os(h,s,ls(l,s)):S(s,ls(h,s))}else{if(es&&as(e))for(const e of o.mount){const s=ls(r,e);if(s&&s._f){const e=Array.isArray(s._f.refs)?s._f.refs[0]:s._f.ref;if(Ts(e)){const s=e.closest("form");if(s){s.reset();break}}}}if(s.keepFieldsRef)for(const e of o.mount)S(e,ls(h,e));else r={}}l=t.shouldUnregister?s.keepDefaultValues?ss(i):{}:ss(h),x.array.next({values:{...h}}),x.state.next({values:{...h}})}o={mount:s.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},n.mount=!d.isValid||!!s.keepIsValid||!!s.keepDirtyValues,n.watch=!!t.shouldUnregister,x.state.next({submitCount:s.keepSubmitCount?a.submitCount:0,isDirty:!u&&(s.keepDirty?a.isDirty:!(!s.keepDefaultValues||Cs(e,i))),isSubmitted:!!s.keepIsSubmitted&&a.isSubmitted,dirtyFields:u?{}:s.keepDirtyValues?s.keepDefaultValues&&l?Is(i,l):a.dirtyFields:s.keepDefaultValues&&e?Is(i,e):s.keepDirty?a.dirtyFields:{},touchedFields:s.keepTouched?a.touchedFields:{},errors:s.keepErrors?a.errors:{},isSubmitSuccessful:!!s.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},W=(e,s)=>O(Es(e)?e(l):e,s),U=e=>{a={...a,...e}},I={control:{register:M,unregister:T,getFieldState:F,handleSubmit:V,setError:P,_subscribe:E,_runSchema:y,_focusError:L,_getWatch:w,_getDirty:j,_setValid:h,_setFieldArray:(e,s=[],o,c,u=!0,h=!0)=>{if(c&&o&&!t.disabled){if(n.action=!0,h&&Array.isArray(ls(r,e))){const s=o(ls(r,e),c.argA,c.argB);u&&os(r,e,s)}if(h&&Array.isArray(ls(a.errors,e))){const s=o(ls(a.errors,e),c.argA,c.argB);u&&os(a.errors,e,s),((e,s)=>{!rs(ls(e,s)).length&&Vs(e,s)})(a.errors,e)}if((d.touchedFields||m.touchedFields)&&h&&Array.isArray(ls(a.touchedFields,e))){const s=o(ls(a.touchedFields,e),c.argA,c.argB);u&&os(a.touchedFields,e,s)}(d.dirtyFields||m.dirtyFields)&&(a.dirtyFields=Is(i,l)),x.state.next({name:e,isDirty:j(e,s),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else os(l,e,s)},_setDisabledField:D,_setErrors:e=>{a.errors=e,x.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>rs(ls(n.mount?l:i,e,t.shouldUnregister?ls(i,e,[]):[])),_reset:O,_resetDefaultValues:()=>Es(t.defaultValues)&&t.defaultValues().then(e=>{W(e,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const s=ls(r,e);s&&(s._f.refs?s._f.refs.every(e=>!Ls(e)):!Ls(s._f.ref))&&T(e)}o.unMount=new Set},_disableForm:e=>{ns(e)&&(x.state.next({disabled:e}),st(r,(s,t)=>{const a=ls(r,t);a&&(s.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(s=>{s.disabled=a._f.disabled||e}))},0,!1))},_subjects:x,_proxyFormState:d,get _fields(){return r},get _formValues(){return l},get _state(){return n},set _state(e){n=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return a},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(n.mount=!0,m={...m,...e.formState},E({...e,formState:m})),trigger:A,register:M,handleSubmit:V,watch:(e,s)=>Es(e)?x.state.subscribe({next:t=>"values"in t&&e(w(void 0,s),t)}):w(e,s,!0),setValue:S,getValues:R,reset:W,resetField:(e,s={})=>{ls(r,e)&&(as(s.defaultValue)?S(e,ss(ls(i,e))):(S(e,s.defaultValue),os(i,e,ss(s.defaultValue))),s.keepTouched||Vs(a.touchedFields,e),s.keepDirty||(Vs(a.dirtyFields,e),a.isDirty=s.defaultValue?j(e,ss(ls(i,e))):j()),s.keepError||(Vs(a.errors,e),d.isValid&&h()),x.state.next({...a}))},clearErrors:e=>{e&&As(e).forEach(e=>Vs(a.errors,e)),x.state.next({errors:e?a.errors:{}})},unregister:T,setError:P,setFocus:(e,s={})=>{const t=ls(r,e),a=t&&t._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),s.shouldSelect&&Es(e.select)&&e.select())}},getFieldState:F};return{...I,formControl:I}}function dt(e={}){const s=t.useRef(void 0),a=t.useRef(void 0),[r,i]=t.useState({isDirty:!1,isValidating:!1,isLoading:Es(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Es(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:r},e.defaultValues&&!Es(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:t,...a}=ct(e);s.current={...a,formState:r}}const l=s.current.control;return l._options=e,Ns(()=>{const e=l._subscribe({formState:l._proxyFormState,callback:()=>i({...l._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),l._formState.isReady=!0,e},[l]),t.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),t.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),t.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),t.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),t.useEffect(()=>{if(l._proxyFormState.isDirty){const e=l._getDirty();e!==r.isDirty&&l._subjects.state.next({isDirty:e})}},[l,r.isDirty]),t.useEffect(()=>{e.values&&!Cs(e.values,a.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),a.current=e.values,i(e=>({...e}))):l._resetDefaultValues()},[l,e.values]),t.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),s.current.formState=((e,s,t,a=!0)=>{const r={defaultValues:s._defaultValues};for(const i in e)Object.defineProperty(r,i,{get:()=>{const t=i;return s._proxyFormState[t]!==gs&&(s._proxyFormState[t]=!a||gs),e[t]}});return r})(r,l),s.current}const mt=({isOpen:s,onClose:a,initialData:r=null})=>{const[l,n]=e.useState(null),[o,c]=e.useState(""),[d,m]=e.useState(""),[u,g]=e.useState(!1),p=x(),{user:b}=Ve(),y=i(),{register:v,handleSubmit:j,formState:{errors:w},reset:N,setValue:S,watch:C}=dt({defaultValues:{name:(null==r?void 0:r.name)||"",description:(null==r?void 0:r.description)||"",category:(null==r?void 0:r.category)||"website",subcategory:"",website:(null==r?void 0:r.website)||"",location:"",tags:""}});t.useEffect(()=>{r&&(S("name",r.name||""),S("description",r.description||""),S("category",r.category||"website"),S("website",r.website||""),r.logoUrl&&(c(r.logoUrl),m(r.logoUrl)))},[r,S]);const _=C("category"),A=h(qe,{onSuccess:e=>{f.success("Entity added successfully!"),p.invalidateQueries(["entities"]),p.invalidateQueries(["categories"]),R()},onError:e=>{f.error(e.message||"Failed to add entity")}}),R=()=>{N(),n(null),c(""),m(""),a()},P=[{value:"website",label:"Website",icon:F},{value:"app",label:"App",icon:E},{value:"place",label:"Place",icon:T},{value:"product",label:"Product",icon:D},{value:"service",label:"Service",icon:M},{value:"movie",label:"Movie",icon:L},{value:"restaurant",label:"Restaurant",icon:V}];return s?Fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Fe.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Fe.jsxs("div",{children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add to Revuo"}),!b&&Fe.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please log in to add entities"})]}),Fe.jsx("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(k,{className:"w-6 h-6"})})]}),Fe.jsxs("form",{onSubmit:j(async e=>{if(!b)return f.error("Please log in to add entities to Revuo"),a(),void y("/login");if(e.name.trim())if(e.description.trim()){g(!0);try{const s=new FormData;s.append("name",e.name.trim()),s.append("description",e.description.trim()),s.append("category",e.category),s.append("subcategory",e.subcategory.trim()),s.append("website",e.website.trim()),s.append("location",e.location.trim());const t=e.tags?e.tags.split(",").map(e=>e.trim()).filter(e=>e):[];s.append("tags",JSON.stringify(t)),l?s.append("logo",l):o&&s.append("logoUrl",o),await A.mutateAsync(s)}catch(s){f.error(s.message||"Failed to add entity")}finally{g(!1)}}else f.error("Description is required");else f.error("Name is required")}),className:"p-6 space-y-6",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),Fe.jsx("input",{type:"text",...v("name",{required:"Name is required"}),className:"input w-full",placeholder:"Enter entity name"}),w.name&&Fe.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),Fe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:P.map(e=>{const s=e.icon;return Fe.jsxs("label",{className:"flex flex-col items-center p-3 border rounded-lg cursor-pointer transition-colors "+(_===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[Fe.jsx("input",{type:"radio",value:e.value,...v("category"),className:"sr-only"}),Fe.jsx(s,{className:"w-6 h-6 mb-2"}),Fe.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.value)})})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),Fe.jsx("input",{type:"text",...v("subcategory"),className:"input w-full",placeholder:"e.g., Social Media, E-commerce, etc."})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),Fe.jsx("textarea",{...v("description",{required:"Description is required"}),rows:3,className:"input w-full resize-none",placeholder:"Describe what this entity is about..."}),w.description&&Fe.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.description.message})]}),Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),Fe.jsx("input",{type:"url",...v("website"),className:"input w-full",placeholder:"https://example.com"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),Fe.jsx("input",{type:"text",...v("location"),className:"input w-full",placeholder:"City, Country"})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),Fe.jsx("input",{type:"text",...v("tags"),className:"input w-full",placeholder:"tag1, tag2, tag3 (comma separated)"}),Fe.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add relevant tags to help others find this entity"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo/Image"}),Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[Fe.jsx("div",{children:Fe.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx(O,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),Fe.jsx("p",{className:"text-sm text-gray-600",children:"Upload from device"}),Fe.jsx("p",{className:"text-xs text-gray-500",children:"Max 5MB"})]}),Fe.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){if(s.size>5242880)return void f.error("Image size should be less than 5MB");n(s),c("");const e=new FileReader;e.onload=e=>m(e.target.result),e.readAsDataURL(s)}},className:"hidden"})]})}),Fe.jsxs("div",{children:[Fe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Fe.jsx(W,{className:"w-4 h-4 text-gray-400"}),Fe.jsx("span",{className:"text-sm text-gray-600",children:"Or import from URL"})]}),Fe.jsx("input",{type:"url",value:o,onChange:e=>{const s=e.target.value;c(s),n(null),m(s||"")},className:"input w-full",placeholder:"https://example.com/image.jpg"})]})]}),d&&Fe.jsxs("div",{className:"relative inline-block",children:[Fe.jsx("img",{src:d,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-gray-200"}),Fe.jsx("button",{type:"button",onClick:()=>{m(""),n(null),c("")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:Fe.jsx(k,{className:"w-3 h-3"})})]})]}),Fe.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[Fe.jsx("button",{type:"button",onClick:R,className:"btn btn-outline",disabled:u,children:"Cancel"}),Fe.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u||!b,children:u?Fe.jsxs(Fe.Fragment,{children:[Fe.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adding..."]}):b?"Add to Revuo":"Login Required"})]})]})]})}):null},xt=()=>{var s;const[t,a]=e.useState(!1),[i,l]=e.useState(null),[n,o]=e.useState(null),[c,d]=e.useState(!1),m=x();e.useEffect(()=>{const e=()=>{const e=window.scrollY;d(e>100)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e.useEffect(()=>{m.prefetchQuery(["entities",{category:"website",sort:"averageRating",limit:50}],()=>Ue({category:"website",sort:"averageRating",limit:50}),{staleTime:3e5}),m.prefetchQuery(["entities",{sort:"averageRating",limit:50}],()=>Ue({sort:"averageRating",limit:50}),{staleTime:3e5})},[m]);const{data:h}=u(["entities",{limit:6,sort:"viewCount"}],()=>Ue({limit:6,sort:"viewCount"}),{staleTime:3e5}),g=e=>{l(e),a(!0)},p=()=>{l(null),a(!0)},b=[{name:"Websites",icon:F,color:"from-blue-500 to-blue-600",count:"2.5k+"},{name:"Apps",icon:I,color:"from-purple-500 to-purple-600",count:"1.8k+"},{name:"Places",icon:T,color:"from-green-500 to-green-600",count:"3.2k+"},{name:"Movies",icon:L,color:"from-red-500 to-red-600",count:"1.1k+"},{name:"Products",icon:M,color:"from-orange-500 to-orange-600",count:"4.1k+"},{name:"Services",icon:q,color:"from-indigo-500 to-indigo-600",count:"2.9k+"}],f=[{icon:$,title:"Universal Reviews",description:"Rate anything and everything - from local businesses to global brands, apps to movies, products to services."},{icon:z,title:"Smart Analytics",description:"Get detailed insights with rating distributions, trend analysis, and personalized recommendations."},{icon:B,title:"Trusted Community",description:"Join a community of honest reviewers with verified accounts and authentic experiences."},{icon:H,title:"Instant Search",description:"Find what you're looking for instantly with our intelligent search and smart categorization."},{icon:G,title:"Personalized Experience",description:"Get recommendations based on your interests, location, and previous reviews."},{icon:Y,title:"Rich Interactions",description:"Engage with other reviewers, ask questions, and share detailed experiences with photos."}];return Fe.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[c&&Fe.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm transition-all duration-300",children:Fe.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:Fe.jsx(Ye,{onAddToRevuo:g})})}),Fe.jsxs("div",{className:"relative overflow-hidden",children:[Fe.jsxs("div",{className:"absolute inset-0",children:[Fe.jsx("div",{className:"absolute top-10 left-4 w-48 h-48 sm:top-20 sm:left-10 sm:w-72 sm:h-72 bg-blue-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),Fe.jsx("div",{className:"absolute top-20 right-4 w-48 h-48 sm:top-40 sm:right-10 sm:w-72 sm:h-72 bg-purple-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),Fe.jsx("div",{className:"absolute -bottom-4 left-8 w-48 h-48 sm:-bottom-8 sm:left-20 sm:w-72 sm:h-72 bg-pink-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),Fe.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 sm:pt-20 pb-16 sm:pb-32",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsxs("div",{className:"mb-6 sm:mb-8",children:[Fe.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold text-gray-900 mb-4 sm:mb-6 leading-tight",children:["Discover. Rate.",Fe.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Share."})]}),Fe.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed px-4",children:"The universal review platform where you can rate anything and everything. From apps to restaurants, movies to products - your opinion matters."})]}),Fe.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:Fe.jsx(Ye,{onAddToRevuo:g})}),Fe.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12 sm:mb-16 px-4",children:[Fe.jsxs("button",{onClick:p,className:"group relative w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 flex items-center justify-center space-x-2 touch-button",children:[Fe.jsx(_,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Add Anything to Revuo"}),Fe.jsx(U,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),Fe.jsxs(r,{to:"/categories",className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-white text-gray-700 font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 border border-gray-200 hover:border-gray-300 flex items-center justify-center space-x-2 touch-button",children:[Fe.jsx(F,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Explore Categories"})]})]}),Fe.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8 max-w-4xl mx-auto px-4",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"50K+"}),Fe.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Reviews"})]}),Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"15K+"}),Fe.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Entities"})]}),Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"25K+"}),Fe.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Users"})]}),Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"4.8"}),Fe.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Avg Rating"})]})]})]})})]}),Fe.jsx("div",{className:"py-12 sm:py-20 bg-white",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[Fe.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Rate Everything"}),Fe.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto px-4",children:"From the latest apps to your favorite restaurants, discover and review anything that matters to you."})]}),Fe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-6",children:b.map(e=>Fe.jsxs(r,{to:`/categories?category=${e.name.toLowerCase()}`,className:"group relative bg-white rounded-2xl p-4 sm:p-6 shadow-lg hover:shadow-xl transform hover:-translate-y-2 transition-all duration-200 border border-gray-100 cursor-pointer touch-button",children:[Fe.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-r ${e.color} flex items-center justify-center mb-3 sm:mb-4 group-hover:scale-110 transition-transform`,children:Fe.jsx(e.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-1 sm:mb-2 text-sm sm:text-base",children:e.name}),Fe.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[e.count," items"]})]},e.name))})]})}),Fe.jsx("div",{className:"py-20 bg-gradient-to-br from-gray-50 to-white",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"text-center mb-16",children:[Fe.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Revuo?"}),Fe.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The most comprehensive review platform designed for the modern user."})]}),Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((e,s)=>Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:Fe.jsx(e.icon,{className:"w-8 h-8 text-white"})}),Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),Fe.jsx("p",{className:"text-gray-600",children:e.description})]},s))})]})}),Fe.jsx("div",{className:"py-20 bg-white",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"text-center mb-16",children:[Fe.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Trending Now"}),Fe.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"See what people are talking about and discover the most popular entities on Revuo."})]}),Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:null==(s=null==h?void 0:h.entities)?void 0:s.slice(0,6).map(e=>Fe.jsx(r,{to:`/entity/${e._id}`,className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transform hover:-translate-y-2 transition-all duration-200 border border-gray-100 cursor-pointer",children:Fe.jsxs("div",{className:"flex items-start space-x-4",children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-16 h-16 rounded-xl object-cover shadow-sm"}):Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center",children:Fe.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.name}),Fe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Fe.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-4 h-4 "+(s<=e.averageRating?"text-yellow-400 fill-current":"text-gray-300")},s))}),Fe.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.averageRating.toFixed(1)})]}),Fe.jsxs("p",{className:"text-sm text-gray-500",children:[e.totalReviews," reviews"]})]})]})},e._id))}),Fe.jsx("div",{className:"text-center mt-12",children:Fe.jsxs(r,{to:"/categories",className:"inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200",children:[Fe.jsx("span",{children:"Explore All Categories"}),Fe.jsx(U,{className:"w-5 h-5"})]})})]})}),Fe.jsx("div",{className:"py-20 bg-gradient-to-br from-blue-50 to-purple-50",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"text-center mb-16",children:[Fe.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"What Our Users Say"}),Fe.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Join thousands of satisfied users who trust Revuo for honest reviews."})]}),Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah Chen",role:"Food Blogger",content:"Revuo has transformed how I discover new restaurants. The detailed reviews and photos help me make informed decisions, and I love being able to contribute to the community.",rating:5},{name:"Marcus Rodriguez",role:"Tech Enthusiast",content:"As someone who tries a lot of apps, Revuo is my go-to for honest reviews. The community here really knows their stuff, and the ratings are always spot-on.",rating:5},{name:"Emily Watson",role:"Traveler",content:"I use Revuo for everything - from finding the best coffee shops in new cities to choosing which movies to watch. It's become an essential part of my decision-making process.",rating:5}].map((e,s)=>Fe.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[Fe.jsx("div",{className:"flex items-center mb-4",children:[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-5 h-5 "+(s<=e.rating?"text-yellow-400 fill-current":"text-gray-300")},s))}),Fe.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',e.content,'"']}),Fe.jsxs("div",{children:[Fe.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),Fe.jsx("p",{className:"text-sm text-gray-500",children:e.role})]})]},s))})]})}),Fe.jsx("div",{className:"py-20 bg-white",children:Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"text-center mb-16",children:[Fe.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),Fe.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Get started with Revuo in three simple steps."})]}),Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:Fe.jsx(A,{className:"w-8 h-8 text-white"})}),Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Search"}),Fe.jsx("p",{className:"text-gray-600",children:"Find what you're looking for with our intelligent search. Can't find it? Add it yourself!"})]}),Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:Fe.jsx(P,{className:"w-8 h-8 text-white"})}),Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Rate"}),Fe.jsx("p",{className:"text-gray-600",children:"Share your experience with detailed ratings, reviews, and photos to help others."})]}),Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:Fe.jsx(Q,{className:"w-8 h-8 text-white"})}),Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Connect"}),Fe.jsx("p",{className:"text-gray-600",children:"Join the community, discover new favorites, and make informed decisions together."})]})]})]})}),Fe.jsx("div",{className:"py-20 bg-gradient-to-br from-gray-50 to-white",children:Fe.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[Fe.jsxs("div",{className:"text-center mb-16",children:[Fe.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),Fe.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about Revuo."})]}),Fe.jsx("div",{className:"space-y-4",children:[{question:"What makes Revuo different from other review platforms?",answer:"Revuo is the only universal review platform where you can rate literally anything - from your favorite coffee shop to the latest mobile app, from blockbuster movies to everyday products. Our intelligent search and comprehensive categorization make it easy to find and review anything that matters to you."},{question:"How do I know the reviews are authentic?",answer:"We use advanced verification systems and community moderation to ensure all reviews are genuine. Users can only review entities they've actually experienced, and our community helps flag any suspicious activity. Plus, we encourage detailed, thoughtful reviews with photos and specific experiences."},{question:"Can businesses respond to reviews?",answer:"Yes! Business owners can claim their listings and respond to reviews, helping them engage with their customers and address any concerns. This creates a two-way conversation that benefits both businesses and consumers."},{question:"Is Revuo free to use?",answer:"Absolutely! Revuo is completely free for users. You can search, read reviews, and write your own reviews without any cost. We believe everyone should have access to honest, reliable information to make better decisions."},{question:"How do you handle fake or inappropriate reviews?",answer:"We have a robust moderation system that combines AI detection with human review. Users can report suspicious reviews, and our team investigates each case. We also use pattern recognition to identify and remove fake reviews automatically."},{question:"Can I export my reviews or data?",answer:"Yes, you have full control over your data. You can export your reviews, ratings, and profile information at any time. We believe in data portability and transparency."}].map((e,s)=>Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[Fe.jsxs("button",{onClick:()=>o(n===s?null:s),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors rounded-2xl",children:[Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.question}),Fe.jsx(J,{className:"w-5 h-5 text-gray-500 transition-transform "+(n===s?"rotate-180":"")})]}),n===s&&Fe.jsx("div",{className:"px-6 pb-4",children:Fe.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.answer})})]},s))})]})}),Fe.jsx("div",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:Fe.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[Fe.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Start Reviewing?"}),Fe.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of users who are already sharing their experiences on Revuo."}),Fe.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Fe.jsxs("button",{onClick:p,className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 flex items-center justify-center space-x-2",children:[Fe.jsx(_,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Add Your First Review"})]}),Fe.jsxs(r,{to:"/register",className:"px-8 py-4 border-2 border-white text-white font-semibold rounded-2xl hover:bg-white hover:text-blue-600 transition-all duration-200 flex items-center justify-center space-x-2",children:[Fe.jsx("span",{children:"Create Account"}),Fe.jsx(U,{className:"w-5 h-5"})]})]})]})}),Fe.jsx(mt,{isOpen:t,initialData:i,onClose:()=>{a(!1),l(null)}})]})},ut=async e=>{if(e instanceof FormData){const s=localStorage.getItem("token"),t={Authorization:s?`Bearer ${s}`:""},a=await fetch("/api/posts",{method:"POST",headers:t,body:e});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to create post")}return a.json()}return(await De("/api/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()},ht=async e=>(await De(`/api/posts/${e}`,{method:"DELETE"})).json(),gt=async e=>(await De(`/api/posts/${e}/like`,{method:"POST"})).json();function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,s){if(s.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+s.length+" present")}function ft(e){bt(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||"object"===pt(e)&&"[object Date]"===s?new Date(e.getTime()):"number"==typeof e||"[object Number]"===s?new Date(e):new Date(NaN)}var yt={};function vt(e){var s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),e.getTime()-s.getTime()}function jt(e,s){bt(2,arguments);var t=ft(e),a=ft(s),r=t.getTime()-a.getTime();return r<0?-1:r>0?1:r}var wt={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Nt(e){bt(1,arguments);var s=ft(e);return function(e){bt(1,arguments);var s=ft(e);return s.setHours(23,59,59,999),s}(s).getTime()===function(e){bt(1,arguments);var s=ft(e),t=s.getMonth();return s.setFullYear(s.getFullYear(),t+1,0),s.setHours(23,59,59,999),s}(s).getTime()}function kt(e,s){bt(2,arguments);var t,a=ft(e),r=ft(s),i=jt(a,r),l=Math.abs(function(e,s){bt(2,arguments);var t=ft(e),a=ft(s);return 12*(t.getFullYear()-a.getFullYear())+(t.getMonth()-a.getMonth())}(a,r));if(l<1)t=0;else{1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*l);var n=jt(a,r)===-i;Nt(ft(e))&&1===l&&1===jt(e,r)&&(n=!1),t=i*(l-Number(n))}return 0===t?0:t}function St(e,s,t){bt(2,arguments);var a=function(e,s){return bt(2,arguments),ft(e).getTime()-ft(s).getTime()}(e,s)/1e3;return wt.trunc(a)}var Ct={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function _t(e){return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.width?String(s.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}var At={date:_t({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:_t({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:_t({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Rt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ft(e){return function(s,t){var a;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,i=null!=t&&t.width?String(t.width):r;a=e.formattingValues[i]||e.formattingValues[r]}else{var l=e.defaultWidth,n=null!=t&&t.width?String(t.width):e.defaultWidth;a=e.values[n]||e.values[l]}return a[e.argumentCallback?e.argumentCallback(s):s]}}function Pt(e){return function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=s.match(r);if(!i)return null;var l,n=i[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?function(e,s){for(var t=0;t<e.length;t++)if(s(e[t]))return t;return}(o,function(e){return e.test(n)}):function(e,s){for(var t in e)if(e.hasOwnProperty(t)&&s(e[t]))return t;return}(o,function(e){return e.test(n)});return l=e.valueCallback?e.valueCallback(c):c,{value:l=t.valueCallback?t.valueCallback(l):l,rest:s.slice(n.length)}}}var Et,Tt={code:"en-US",formatDistance:function(e,s,t){var a,r=Ct[e];return a="string"==typeof r?r:1===s?r.one:r.other.replace("{{count}}",s.toString()),null!=t&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a},formatLong:At,formatRelative:function(e,s,t,a){return Rt[e]},localize:{ordinalNumber:function(e,s){var t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:Ft({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ft({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ft({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ft({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ft({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Et={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.match(Et.matchPattern);if(!t)return null;var a=t[0],r=e.match(Et.parsePattern);if(!r)return null;var i=Et.valueCallback?Et.valueCallback(r[0]):r[0];return{value:i=s.valueCallback?s.valueCallback(i):i,rest:e.slice(a.length)}}),era:Pt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Pt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Pt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Pt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Pt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dt(e,s){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e}var Mt=43200;function Lt(e,s,t){var a,r;bt(2,arguments);var i=yt,l=null!==(a=null!==(r=null==t?void 0:t.locale)&&void 0!==r?r:i.locale)&&void 0!==a?a:Tt;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var n=jt(e,s);if(isNaN(n))throw new RangeError("Invalid time value");var o,c,d=Dt(Dt({},t),{addSuffix:Boolean(null==t?void 0:t.addSuffix),comparison:n});n>0?(o=ft(s),c=ft(e)):(o=ft(e),c=ft(s));var m,x=St(c,o),u=(vt(c)-vt(o))/1e3,h=Math.round((x-u)/60);if(h<2)return null!=t&&t.includeSeconds?x<5?l.formatDistance("lessThanXSeconds",5,d):x<10?l.formatDistance("lessThanXSeconds",10,d):x<20?l.formatDistance("lessThanXSeconds",20,d):x<40?l.formatDistance("halfAMinute",0,d):x<60?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",1,d):0===h?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",h,d);if(h<45)return l.formatDistance("xMinutes",h,d);if(h<90)return l.formatDistance("aboutXHours",1,d);if(h<1440){var g=Math.round(h/60);return l.formatDistance("aboutXHours",g,d)}if(h<2520)return l.formatDistance("xDays",1,d);if(h<Mt){var p=Math.round(h/1440);return l.formatDistance("xDays",p,d)}if(h<86400)return m=Math.round(h/Mt),l.formatDistance("aboutXMonths",m,d);if((m=kt(c,o))<12){var b=Math.round(h/Mt);return l.formatDistance("xMonths",b,d)}var f=m%12,y=Math.floor(m/12);return f<3?l.formatDistance("aboutXYears",y,d):f<9?l.formatDistance("overXYears",y,d):l.formatDistance("almostXYears",y+1,d)}function Vt(e,s){return bt(1,arguments),Lt(e,Date.now(),s)}const Ot=()=>{var s,t;const{user:a}=Ve(),i=x(),[l,n]=e.useState(null),[o,c]=e.useState(""),[d,m]=e.useState(!1),{data:g,isLoading:p,error:b}=u(["posts"],()=>(async(e={})=>{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t)});const t=`/api/posts?${s.toString()}`;return(await De(t)).json()})({limit:20}),{staleTime:12e4,refetchOnWindowFocus:!1}),y=h(gt,{onSuccess:()=>{i.invalidateQueries(["posts"])},onError:e=>{f.error(e.message||"Failed to like post")}}),v=h(({postId:e,content:s})=>(async(e,s)=>(await De(`/api/posts/${e}/comment`,{method:"POST",data:{content:s}})).json())(e,s),{onSuccess:()=>{i.invalidateQueries(["posts"]),c("")},onError:e=>{f.error(e.message||"Failed to add comment")}}),w=h(ht,{onSuccess:()=>{i.invalidateQueries(["posts"]),f.success("Post deleted successfully")},onError:e=>{f.error(e.message||"Failed to delete post")}}),N=({post:s})=>{var t,i,l,n,o;const[c,d]=e.useState(!1),[m,x]=e.useState("");return Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-4 sm:mb-6 overflow-hidden",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-100",children:[Fe.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(null==(t=s.user)?void 0:t.avatar)?Fe.jsx("img",{src:s.user.avatar,alt:(null==(i=s.user)?void 0:i.username)||"User",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"}):Fe.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center",children:Fe.jsx(j,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),Fe.jsxs("div",{className:"min-w-0 flex-1",children:[Fe.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:(null==(l=s.user)?void 0:l.username)||"Unknown User"}),Fe.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 flex items-center space-x-1 sm:space-x-2",children:[Fe.jsx(X,{className:"w-3 h-3"}),Fe.jsx("span",{children:Vt(new Date(s.createdAt),{addSuffix:!0})}),(null==(n=s.location)?void 0:n.city)&&Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(T,{className:"w-3 h-3"}),Fe.jsx("span",{className:"truncate",children:s.location.city})]})]})]})]}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors touch-button",children:Fe.jsx(K,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"})}),a&&(null==(o=s.user)?void 0:o._id)===a._id&&Fe.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-10",children:Fe.jsxs("button",{onClick:()=>{return e=s._id,void(window.confirm("Are you sure you want to delete this post?")&&w.mutate(e));var e},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[Fe.jsx(Z,{className:"w-4 h-4 mr-2"}),"Delete Post"]})})]})]}),Fe.jsxs("div",{className:"p-3 sm:p-4",children:[Fe.jsx("p",{className:"text-gray-900 mb-3 sm:mb-4 leading-relaxed text-sm sm:text-base",children:s.content}),s.entity&&Fe.jsxs(r,{to:`/entity/${s.entity._id}`,className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors mb-3 sm:mb-4 text-sm sm:text-base",children:[Fe.jsx(F,{className:"w-4 h-4"}),Fe.jsx("span",{className:"font-medium truncate",children:s.entity.name})]}),s.media&&s.media.length>0&&Fe.jsx("div",{className:"mb-3 sm:mb-4",children:1===s.media.length?Fe.jsx("img",{src:s.media[0],alt:"Post media",className:"w-full rounded-xl object-cover max-h-64 sm:max-h-96"}):Fe.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.media.slice(0,4).map((e,s)=>Fe.jsx("img",{src:e,alt:`Post media ${s+1}`,className:"w-full h-24 sm:h-32 rounded-lg object-cover"},s))})}),s.tags&&s.tags.length>0&&Fe.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.map((e,s)=>Fe.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["#",e]},s))})]}),Fe.jsxs("div",{className:"px-4 py-3 border-t border-gray-100",children:[Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{className:"flex items-center space-x-6",children:[Fe.jsxs("button",{onClick:()=>{return e=s._id,void(a?y.mutate(e):f.error("Please login to like posts"));var e},className:"flex items-center space-x-2 transition-colors "+(s.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"),children:[Fe.jsx(G,{className:"w-5 h-5 "+(s.isLiked?"fill-current":"")}),Fe.jsx("span",{className:"text-sm font-medium",children:s.likeCount})]}),Fe.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[Fe.jsx(Y,{className:"w-5 h-5"}),Fe.jsx("span",{className:"text-sm font-medium",children:s.commentCount})]}),Fe.jsxs("button",{onClick:()=>(e=>{var s;const t={title:`Post by ${(null==(s=e.user)?void 0:s.username)||"Unknown User"}`,text:e.content,url:`${window.location.origin}/posts/${e._id}`};function a(){const s=`${window.location.origin}/posts/${e._id}`;navigator.clipboard.writeText(s).then(()=>{f.success("Post link copied to clipboard!")}).catch(()=>{f.error("Failed to copy link")})}navigator.share&&navigator.canShare(t)?navigator.share(t).then(()=>{f.success("Post shared successfully!")}).catch(e=>{a()}):a()})(s),className:"flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors",children:[Fe.jsx(ee,{className:"w-5 h-5"}),Fe.jsx("span",{className:"text-sm font-medium",children:"Share"})]})]}),Fe.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[Fe.jsx(R,{className:"w-4 h-4"}),Fe.jsx("span",{className:"text-sm",children:s.viewCount})]})]}),c&&Fe.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a&&Fe.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.avatar?Fe.jsx("img",{src:a.avatar,alt:a.username,className:"w-8 h-8 rounded-full object-cover"}):Fe.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center",children:Fe.jsx(j,{className:"w-4 h-4 text-blue-600"})}),Fe.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[Fe.jsx("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Write a comment...",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:e=>{"Enter"===e.key&&(v.mutate({postId:s._id,content:m}),x(""))}}),Fe.jsx("button",{onClick:()=>{v.mutate({postId:s._id,content:m}),x("")},className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:Fe.jsx(se,{className:"w-4 h-4"})})]})]}),Fe.jsxs("div",{className:"space-y-3",children:[s.comments&&s.comments.slice(0,5).map((e,s)=>Fe.jsxs("div",{className:"flex items-start space-x-3",children:[e.user.avatar?Fe.jsx("img",{src:e.user.avatar,alt:e.user.username,className:"w-6 h-6 rounded-full object-cover"}):Fe.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center",children:Fe.jsx(j,{className:"w-3 h-3 text-blue-600"})}),Fe.jsxs("div",{className:"flex-1",children:[Fe.jsxs("div",{className:"bg-gray-50 rounded-lg px-3 py-2",children:[Fe.jsx("div",{className:"font-medium text-sm text-gray-900",children:e.user.username}),Fe.jsx("div",{className:"text-sm text-gray-700",children:e.content})]}),Fe.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Vt(new Date(e.createdAt),{addSuffix:!0})})]})]},s)),s.comments&&s.comments.length>5&&Fe.jsxs("button",{className:"text-sm text-blue-500 hover:text-blue-700",children:["View all ",s.comments.length," comments"]})]})]})]})]})};return p?Fe.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:Fe.jsx("div",{className:"space-y-6",children:[1,2,3].map(e=>Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 animate-pulse",children:[Fe.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[Fe.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),Fe.jsxs("div",{children:[Fe.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),Fe.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]})]}),Fe.jsxs("div",{className:"space-y-2",children:[Fe.jsx("div",{className:"h-4 bg-gray-200 rounded"}),Fe.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},e))})}):b?Fe.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"text-red-500 mb-4",children:"Failed to load posts"}),Fe.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Try Again"})]})}):Fe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Fe.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:Fe.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Posts"}),a&&Fe.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors touch-button",children:[Fe.jsx(_,{className:"w-4 h-4"}),Fe.jsx("span",{className:"hidden sm:inline",children:"Create Post"}),Fe.jsx("span",{className:"sm:hidden",children:"Post"})]})]})})}),Fe.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6 sm:py-8",children:0===(null==(s=null==g?void 0:g.posts)?void 0:s.length)?Fe.jsxs("div",{className:"text-center py-8 sm:py-12",children:[Fe.jsx("div",{className:"text-gray-500 mb-4",children:"No posts yet"}),a&&Fe.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 touch-button",children:"Create the first post"})]}):Fe.jsx("div",{className:"space-y-4 sm:space-y-6",children:null==(t=null==g?void 0:g.posts)?void 0:t.map(e=>Fe.jsx(N,{post:e},e._id))})}),d&&Fe.jsx(Wt,{isOpen:d,onClose:()=>m(!1)})]})},Wt=({isOpen:s,onClose:t})=>{const{user:a}=Ve(),r=x(),[i,l]=e.useState(""),[n,o]=e.useState(""),[c,d]=e.useState(""),[m,u]=e.useState([]),[g,p]=e.useState(!1),b=h(ut,{onSuccess:()=>{r.invalidateQueries(["posts"]),f.success("Post created successfully!"),y()},onError:e=>{f.error(e.message||"Failed to create post")}}),y=()=>{l(""),o(""),d(""),u([]),t()};return s?Fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Post"}),Fe.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(k,{className:"w-6 h-6"})})]}),Fe.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){p(!0);try{const e=new FormData;e.append("content",i.trim()),n.trim()&&e.append("entityName",n.trim()),c.trim()&&e.append("tags",c.trim()),m.forEach((s,t)=>{e.append("media",s)}),await b.mutateAsync(e)}catch(s){}finally{p(!1)}}else f.error("Please enter some content")},className:"p-6 space-y-6",children:[Fe.jsxs("div",{children:[Fe.jsx("textarea",{value:i,onChange:e=>l(e.target.value),placeholder:"What's on your mind? Share your experience...",className:"w-full h-32 p-4 border border-gray-200 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:1e3}),Fe.jsxs("div",{className:"text-sm text-gray-500 mt-2 text-right",children:[i.length,"/1000"]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Place/Entity (optional)"}),Fe.jsx("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"e.g., Starbucks, Netflix, etc.",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (optional)"}),Fe.jsx("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"coffee, breakfast, goodvibes (comma separated)",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Photos/Videos (optional)"}),Fe.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[Fe.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{const s=Array.from(e.target.files);s.length+m.length>10?f.error("Maximum 10 media files allowed"):u([...m,...s])},className:"hidden",id:"media-upload"}),Fe.jsxs("label",{htmlFor:"media-upload",className:"cursor-pointer",children:[Fe.jsx(te,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),Fe.jsx("p",{className:"text-gray-600",children:"Click to upload media"}),Fe.jsx("p",{className:"text-sm text-gray-500",children:"Max 10 files"})]})]}),m.length>0&&Fe.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2",children:m.map((e,s)=>Fe.jsxs("div",{className:"relative",children:[Fe.jsx("img",{src:URL.createObjectURL(e),alt:`Preview ${s+1}`,className:"w-full h-24 object-cover rounded-lg"}),Fe.jsx("button",{type:"button",onClick:()=>(e=>{u(m.filter((s,t)=>t!==e))})(s),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:Fe.jsx(k,{className:"w-3 h-3"})})]},s))})]}),Fe.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[Fe.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 text-gray-700 hover:text-gray-900 transition-colors",disabled:g,children:"Cancel"}),Fe.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",disabled:g||!i.trim(),children:g?"Creating...":"Create Post"})]})]})]})}):null},Ut=({entity:s,initialRating:t=0,onSubmit:a,onClose:r,isLoading:i})=>{const[l,n]=e.useState(t),[o,c]=e.useState(""),[d,m]=e.useState(""),[x,u]=e.useState([]),[h,g]=e.useState(0),p=e=>{e&&!x.includes(e)&&u([...x,e])};return Fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Fe.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Fe.jsxs("div",{children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Write a Review"}),Fe.jsxs("p",{className:"text-sm text-gray-500",children:["Share your experience with ",s.name]})]}),Fe.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(k,{className:"w-6 h-6"})})]}),Fe.jsxs("form",{onSubmit:e=>{e.preventDefault(),0!==l?o.trim()?a({entityId:s._id,rating:l,title:o.trim(),comment:d.trim(),tags:x}):alert("Please enter a title"):alert("Please select a rating")},className:"p-6 space-y-6",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Your Rating *"}),Fe.jsx("div",{className:"flex items-center justify-center space-x-1",children:[1,2,3,4,5].map(e=>Fe.jsx("button",{type:"button",onClick:()=>n(e),onMouseEnter:()=>g(e),onMouseLeave:()=>g(0),className:"p-1 transition-colors",children:Fe.jsx(P,{className:"w-10 h-10 "+(e<=(h||l)?"text-yellow-400 fill-current":"text-gray-300")})},e))}),Fe.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:l>0?`${l} star${l>1?"s":""}`:"Click to rate"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title *"}),Fe.jsx("input",{type:"text",value:o,onChange:e=>c(e.target.value),className:"input w-full",placeholder:"Summarize your experience...",maxLength:100}),Fe.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[o.length,"/100 characters"]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),Fe.jsx("textarea",{value:d,onChange:e=>m(e.target.value),rows:4,className:"input w-full resize-none",placeholder:"Share your detailed experience with this entity...",maxLength:500}),Fe.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[d.length,"/500 characters"]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),Fe.jsxs("div",{className:"space-y-3",children:[Fe.jsx("div",{className:"flex flex-wrap gap-2",children:["Pros","Cons","Great Service","Poor Experience","Recommended","Not Recommended"].map(e=>Fe.jsx("button",{type:"button",onClick:()=>p(e),disabled:x.includes(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(x.includes(e)?"bg-primary-100 text-primary-700 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))}),Fe.jsxs("div",{className:"flex space-x-2",children:[Fe.jsx("input",{type:"text",placeholder:"Add custom tag...",className:"input flex-1",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p(e.target.value.trim()),e.target.value="")}}),Fe.jsx("button",{type:"button",onClick:e=>{const s=e.target.previousSibling;p(s.value.trim()),s.value=""},className:"btn btn-outline",children:"Add"})]}),x.length>0&&Fe.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(e=>Fe.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-700",children:[e,Fe.jsx("button",{type:"button",onClick:()=>{return s=e,void u(x.filter(e=>e!==s));var s},className:"ml-2 text-primary-500 hover:text-primary-700",children:Fe.jsx(k,{className:"w-3 h-3"})})]},e))})]})]}),Fe.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[Fe.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",disabled:i,children:"Cancel"}),Fe.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i||0===l||!o.trim(),children:i?Fe.jsxs(Fe.Fragment,{children:[Fe.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):"Submit Review"})]})]})]})})},It=({review:e,onVote:s,currentUser:t})=>{var a,r,i;const l=a=>{t?s(e._id,a):alert("Please login to vote")},n=s=>!(!t||!e.votes)&&e.votes.some(e=>e.user===t._id&&e.type===s),o=s=>e.votes?e.votes.filter(e=>e.type===s).length:0;return Fe.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:Fe.jsxs("div",{className:"flex items-start space-x-4",children:[Fe.jsx("div",{className:"flex-shrink-0",children:(null==(a=e.user)?void 0:a.avatar)?Fe.jsx("img",{src:e.user.avatar,alt:(null==(r=e.user)?void 0:r.username)||"User",className:"w-12 h-12 rounded-full object-cover"}):Fe.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full flex items-center justify-center",children:Fe.jsx(j,{className:"w-6 h-6 text-primary-600"})})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsxs("div",{className:"flex items-start justify-between mb-2",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("h4",{className:"font-medium text-gray-900",children:(null==(i=e.user)?void 0:i.username)||"Anonymous"}),Fe.jsx("span",{className:"text-sm text-gray-500",children:(e=>{const s=new Date(e),t=new Date,a=Math.abs(t-s),r=Math.ceil(a/864e5);return 1===r?"1 day ago":r<7?`${r} days ago`:r<30?`${Math.floor(r/7)} week${Math.floor(r/7)>1?"s":""} ago`:r<365?`${Math.floor(r/30)} month${Math.floor(r/30)>1?"s":""} ago`:`${Math.floor(r/365)} year${Math.floor(r/365)>1?"s":""} ago`})(e.createdAt)})]}),Fe.jsx("div",{className:"flex items-center space-x-1",children:Fe.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(ae,{className:"w-4 h-4"})})})]}),Fe.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Fe.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-4 h-4 "+(s<=e.rating?"text-yellow-400 fill-current":"text-gray-300")},s))}),Fe.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.rating.toFixed(1)})]}),Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),e.comment&&Fe.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:e.comment}),e.tags&&e.tags.length>0&&Fe.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map((e,s)=>Fe.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Pros"===e||"Great Service"===e||"Recommended"===e?"bg-green-100 text-green-700":"Cons"===e||"Poor Experience"===e||"Not Recommended"===e?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e},s))}),Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{className:"flex items-center space-x-4",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsxs("button",{onClick:()=>l("upvote"),className:"flex items-center space-x-1 px-3 py-1 rounded-lg transition-colors "+(n("upvote")?"bg-green-100 text-green-700":"text-gray-500 hover:bg-gray-100"),children:[Fe.jsx(re,{className:"w-4 h-4"}),Fe.jsx("span",{className:"text-sm font-medium",children:o("upvote")})]}),Fe.jsxs("button",{onClick:()=>l("downvote"),className:"flex items-center space-x-1 px-3 py-1 rounded-lg transition-colors "+(n("downvote")?"bg-red-100 text-red-700":"text-gray-500 hover:bg-gray-100"),children:[Fe.jsx(ie,{className:"w-4 h-4"}),Fe.jsx("span",{className:"text-sm font-medium",children:o("downvote")})]})]}),Fe.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:[Fe.jsx(Y,{className:"w-4 h-4"}),Fe.jsx("span",{className:"text-sm",children:"Reply"})]})]}),o("upvote")>5&&Fe.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[Fe.jsx(re,{className:"w-3 h-3"}),Fe.jsx("span",{children:"Helpful"})]})]})]})]})})},qt=({entity:e})=>{const s=s=>e.reviews?e.reviews.filter(e=>e.rating===s).length:0,t=t=>e.totalReviews?s(t)/e.totalReviews*100:0;return Fe.jsxs("div",{className:"space-y-3",children:[[5,4,3,2,1].map(e=>{const a=s(e),r=t(e);return Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsxs("div",{className:"flex items-center space-x-1 w-16",children:[Fe.jsx("span",{className:"text-sm font-medium text-gray-700",children:e}),Fe.jsx(P,{className:"w-4 h-4 text-yellow-400 fill-current"})]}),Fe.jsx("div",{className:"flex-1",children:Fe.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Fe.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})})}),Fe.jsx("div",{className:"w-12 text-right",children:Fe.jsx("span",{className:"text-sm text-gray-600",children:a})})]},e)}),Fe.jsx("div",{className:"pt-4 border-t border-gray-200",children:Fe.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[Fe.jsxs("div",{children:[Fe.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.averageRating.toFixed(1)}),Fe.jsx("div",{className:"text-sm text-gray-500",children:"Average"})]}),Fe.jsxs("div",{children:[Fe.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.totalReviews}),Fe.jsx("div",{className:"text-sm text-gray-500",children:"Reviews"})]}),Fe.jsxs("div",{children:[Fe.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[t(5).toFixed(0),"%"]}),Fe.jsx("div",{className:"text-sm text-gray-500",children:"5 Stars"})]})]})})]})},$t=()=>{var s;const{id:t}=l(),a=i(),{user:n}=Ve(),o=x(),[c,d]=e.useState(!1),[m,g]=e.useState(0),[p,b]=e.useState(0),{data:y,isLoading:v,error:w}=u(["entity",t],()=>Ie(t),{staleTime:3e5}),N=h($e,{onSuccess:()=>{f.success("Review submitted successfully!"),o.invalidateQueries(["entity",t]),d(!1),g(0)},onError:e=>{f.error(e.message||"Failed to submit review")}}),k=h(ze,{onSuccess:()=>{o.invalidateQueries(["entity",t])},onError:e=>{f.error(e.message||"Failed to vote")}});if(v)return Fe.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading entity details..."})]})});if(w||!y)return Fe.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Entity Not Found"}),Fe.jsx("p",{className:"text-gray-600 mb-4",children:"The entity you're looking for doesn't exist."}),Fe.jsx("button",{onClick:()=>a("/"),className:"btn btn-primary",children:"Go Home"})]})});const S=e=>{n?(g(e),d(!0)):f.error("Please login to rate this entity")},_=(e,s)=>{n?k.mutate({reviewId:e,voteType:s}):f.error("Please login to vote")};return Fe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Fe.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Fe.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[Fe.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[Fe.jsx("button",{onClick:()=>a(-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors touch-button",children:Fe.jsx(le,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})}),Fe.jsxs("div",{className:"min-w-0 flex-1",children:[Fe.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:y.name}),Fe.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:y.category})]})]}),Fe.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[Fe.jsx("button",{onClick:()=>{navigator.share?navigator.share({title:y.name,text:`Check out ${y.name} on Revuo!`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),f.success("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors touch-button",title:"Share",children:Fe.jsx(ee,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})}),Fe.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors touch-button",children:Fe.jsx(ne,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})}),Fe.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors touch-button",children:Fe.jsx(K,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})]})})}),Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:Fe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[Fe.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[Fe.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:Fe.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:Fe.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[Fe.jsx("div",{className:"flex-shrink-0 flex justify-center sm:justify-start",children:y.logo?Fe.jsx("img",{src:y.logo,alt:y.name,className:"w-20 h-20 sm:w-24 sm:h-24 rounded-xl object-cover shadow-sm"}):Fe.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center",children:Fe.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-primary-600",children:y.name.charAt(0).toUpperCase()})})}),Fe.jsx("div",{className:"flex-1 min-w-0 text-center sm:text-left",children:Fe.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:Fe.jsxs("div",{className:"flex-1",children:[Fe.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:y.name}),Fe.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 mb-4",children:[Fe.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[Fe.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>Fe.jsx(P,{className:"w-5 h-5 sm:w-6 sm:h-6 "+(e<=y.averageRating?"text-yellow-400 fill-current":"text-gray-300")},e))}),Fe.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:y.averageRating.toFixed(1)})]}),Fe.jsxs("span",{className:"text-sm sm:text-base text-gray-500 text-center sm:text-left",children:["(",y.totalReviews," reviews)"]})]}),y.description&&Fe.jsx("p",{className:"text-gray-700 text-base sm:text-lg leading-relaxed mb-4 sm:mb-6",children:y.description}),y.tags&&y.tags.length>0&&Fe.jsx("div",{className:"flex flex-wrap gap-2 mb-4 sm:mb-6",children:y.tags.map((e,s)=>Fe.jsx("span",{className:"px-2 sm:px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs sm:text-sm font-medium",children:e},s))}),Fe.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[Fe.jsxs("button",{onClick:()=>S(5),className:"w-full sm:w-auto btn btn-primary btn-lg touch-button",children:[Fe.jsx(P,{className:"w-5 h-5 mr-2"}),"Rate Now"]}),y.website&&Fe.jsxs("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto btn btn-outline btn-lg touch-button",children:[Fe.jsx(C,{className:"w-5 h-5 mr-2"}),"Visit Website"]})]})]})})})]})})}),Fe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Rating Distribution"}),Fe.jsx(qt,{entity:y})]}),Fe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[Fe.jsx("div",{className:"p-6 border-b border-gray-200",children:Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Reviews (",y.totalReviews,")"]}),Fe.jsx("div",{className:"flex items-center space-x-2",children:Fe.jsxs("select",{className:"input input-sm",children:[Fe.jsx("option",{children:"Most Recent"}),Fe.jsx("option",{children:"Highest Rated"}),Fe.jsx("option",{children:"Lowest Rated"}),Fe.jsx("option",{children:"Most Helpful"})]})})]})}),Fe.jsx("div",{className:"divide-y divide-gray-200",children:y.reviews&&y.reviews.length>0?y.reviews.map(e=>Fe.jsx(It,{review:e,onVote:_,currentUser:n},e._id)):Fe.jsxs("div",{className:"p-8 text-center",children:[Fe.jsx(Y,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),Fe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),Fe.jsx("p",{className:"text-gray-500 mb-4",children:"Be the first to review this entity!"}),Fe.jsx("button",{onClick:()=>S(5),className:"btn btn-primary",children:"Write a Review"})]})})]})]}),Fe.jsx("div",{className:"mt-8",children:Fe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[Fe.jsx("div",{className:"p-6 border-b border-gray-200",children:Fe.jsx("div",{className:"flex items-center justify-between",children:Fe.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Posts (",(null==(s=y.posts)?void 0:s.length)||0,")"]})})}),Fe.jsx("div",{className:"divide-y divide-gray-200",children:y.posts&&y.posts.length>0?y.posts.map(e=>{var s,t,a,r,i;return Fe.jsxs("div",{className:"p-6",children:[Fe.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[(null==(s=e.user)?void 0:s.avatar)?Fe.jsx("img",{src:e.user.avatar,alt:(null==(t=e.user)?void 0:t.username)||"User",className:"w-8 h-8 rounded-full object-cover"}):Fe.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center",children:Fe.jsx(j,{className:"w-4 h-4 text-blue-600"})}),Fe.jsxs("div",{children:[Fe.jsx("div",{className:"font-medium text-gray-900",children:(null==(a=e.user)?void 0:a.username)||"Unknown User"}),Fe.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]})]}),Fe.jsx("p",{className:"text-gray-900 mb-3",children:e.content}),e.media&&e.media.length>0&&Fe.jsx("div",{className:"mb-3",children:Fe.jsx("img",{src:e.media[0],alt:"Post media",className:"w-full rounded-lg object-cover max-h-64"})}),Fe.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[Fe.jsxs("span",{children:["â¤ï¸ ",(null==(r=e.likes)?void 0:r.length)||0]}),Fe.jsxs("span",{children:["ðŸ’¬ ",(null==(i=e.comments)?void 0:i.length)||0]}),Fe.jsxs("span",{children:["ðŸ‘ï¸ ",e.viewCount||0]})]})]},e._id)}):Fe.jsxs("div",{className:"p-8 text-center",children:[Fe.jsx(Y,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),Fe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts yet"}),Fe.jsx("p",{className:"text-gray-500 mb-4",children:"Be the first to share something about this entity!"}),Fe.jsx(r,{to:"/posts",className:"btn btn-primary",children:"Create Post"})]})})]})}),Fe.jsxs("div",{className:"space-y-6",children:[Fe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Rate"}),Fe.jsxs("div",{className:"space-y-4",children:[Fe.jsx("div",{className:"flex items-center justify-center space-x-1",children:[1,2,3,4,5].map(e=>Fe.jsx("button",{onClick:()=>S(e),onMouseEnter:()=>b(e),onMouseLeave:()=>b(0),className:"p-1 transition-colors",children:Fe.jsx(P,{className:"w-8 h-8 "+(e<=(p||m)?"text-yellow-400 fill-current":"text-gray-300")})},e))}),Fe.jsx("p",{className:"text-sm text-gray-500 text-center",children:m>0?`You selected ${m} star${m>1?"s":""}`:"Click to rate"}),m>0&&Fe.jsx("button",{onClick:()=>d(!0),className:"btn btn-primary w-full",children:"Write Review"})]})]}),Fe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),Fe.jsxs("div",{className:"space-y-3",children:[Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(F,{className:"w-5 h-5 text-gray-400"}),Fe.jsxs("span",{className:"text-gray-700",children:["Category: ",y.category]})]}),y.subcategory&&Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(T,{className:"w-5 h-5 text-gray-400"}),Fe.jsxs("span",{className:"text-gray-700",children:["Subcategory: ",y.subcategory]})]}),y.location&&Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(T,{className:"w-5 h-5 text-gray-400"}),Fe.jsx("span",{className:"text-gray-700",children:y.location})]}),y.website&&Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(F,{className:"w-5 h-5 text-gray-400"}),Fe.jsx("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 truncate",children:y.website})]}),Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(oe,{className:"w-5 h-5 text-gray-400"}),Fe.jsxs("span",{className:"text-gray-700",children:["Added ",new Date(y.createdAt).toLocaleDateString()]})]}),y.createdBy&&Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx(j,{className:"w-5 h-5 text-gray-400"}),Fe.jsxs("span",{className:"text-gray-700",children:["By ",y.createdBy.username]})]})]})]}),Fe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Similar Entities"}),Fe.jsxs("div",{className:"space-y-3",children:[Fe.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[Fe.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:Fe.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"N"})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:"Netflix"}),Fe.jsxs("div",{className:"flex items-center space-x-1",children:[Fe.jsx(P,{className:"w-3 h-3 text-yellow-400 fill-current"}),Fe.jsx("span",{className:"text-xs text-gray-500",children:"4.2 (1.2k)"})]})]})]}),Fe.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[Fe.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:Fe.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"S"})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:"Spotify"}),Fe.jsxs("div",{className:"flex items-center space-x-1",children:[Fe.jsx(P,{className:"w-3 h-3 text-yellow-400 fill-current"}),Fe.jsx("span",{className:"text-xs text-gray-500",children:"4.5 (856)"})]})]})]})]})]})]})]})}),c&&Fe.jsx(Ut,{entity:y,initialRating:m,onSubmit:e=>N.mutate(e),onClose:()=>d(!1),isLoading:N.isLoading})]})},zt=()=>{const[s,t]=e.useState({email:"",password:""}),[a,l]=e.useState(!1),[n,o]=e.useState(!1),{login:c}=Ve(),d=i(),m=e=>{const{name:s,value:a}=e.target;t(e=>({...e,[s]:a}))};return Fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Fe.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"flex justify-center mb-6",children:Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl",children:Fe.jsx(v,{className:"w-8 h-8 text-white"})})}),Fe.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Welcome Back"}),Fe.jsx("p",{className:"mt-3 text-gray-600",children:"Sign in to your account to continue"})]}),Fe.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100 p-8",children:[Fe.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.email&&s.password){o(!0);try{await c(s.email,s.password),f.success("Welcome back!"),d("/")}catch(t){f.error(t.message||"Login failed. Please try again.")}finally{o(!1)}}else f.error("Please fill in all fields")},className:"space-y-6",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.jsx(ce,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:m,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"Enter your email"})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.jsx(de,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:m,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"Enter your password"}),Fe.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?Fe.jsx(me,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):Fe.jsx(R,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]})]}),Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{className:"flex items-center",children:[Fe.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Fe.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),Fe.jsx("div",{className:"text-sm",children:Fe.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})})]}),Fe.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:n?Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),Fe.jsx("span",{children:"Signing in..."})]}):Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("span",{children:"Sign In"}),Fe.jsx(U,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),Fe.jsx("div",{className:"mt-6",children:Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-0 flex items-center",children:Fe.jsx("div",{className:"w-full border-t border-gray-300"})}),Fe.jsx("div",{className:"relative flex justify-center text-sm",children:Fe.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),Fe.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[Fe.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[Fe.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Fe.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Fe.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Fe.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Fe.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Fe.jsx("span",{className:"ml-2",children:"Google"})]}),Fe.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[Fe.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:Fe.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),Fe.jsx("span",{className:"ml-2",children:"Twitter"})]})]})]}),Fe.jsx("div",{className:"text-center",children:Fe.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",Fe.jsx(r,{to:"/register",className:"font-semibold text-blue-600 hover:text-blue-500 transition-colors",children:"Sign up for free"})]})}),Fe.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[Fe.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-gray-100",children:Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:Fe.jsx(v,{className:"w-4 h-4 text-blue-600"})}),Fe.jsxs("div",{children:[Fe.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Unlimited Reviews"}),Fe.jsx("p",{className:"text-xs text-gray-600",children:"Rate and review unlimited entities"})]})]})}),Fe.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-gray-100",children:Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:Fe.jsx(xe,{className:"w-4 h-4 text-purple-600"})}),Fe.jsxs("div",{children:[Fe.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Compare Features"}),Fe.jsx("p",{className:"text-xs text-gray-600",children:"Compare up to 4 entities side-by-side"})]})]})})]})]})})},Bt=()=>{const[s,t]=e.useState({username:"",email:"",password:"",confirmPassword:""}),[a,l]=e.useState(!1),[n,o]=e.useState(!1),[c,d]=e.useState(!1),{register:m}=Ve(),x=i(),u=e=>{const{name:s,value:a}=e.target;t(e=>({...e,[s]:a}))},h=[{icon:v,title:"Unlimited Reviews",description:"Rate and review unlimited entities",color:"blue"},{icon:ue,title:"Compare Features",description:"Compare up to 4 entities side-by-side",color:"purple"},{icon:xe,title:"Personal Profile",description:"Track your reviews and activity",color:"green"}];return Fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Fe.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"flex justify-center mb-6",children:Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl",children:Fe.jsx(v,{className:"w-8 h-8 text-white"})})}),Fe.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Join Revuo"}),Fe.jsx("p",{className:"mt-3 text-gray-600",children:"Create your account and start reviewing everything"})]}),Fe.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100 p-8",children:[Fe.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.username&&s.email&&s.password&&s.confirmPassword?s.username.length<3?(f.error("Username must be at least 3 characters long"),0):s.password.length<6?(f.error("Password must be at least 6 characters long"),0):s.password!==s.confirmPassword?(f.error("Passwords do not match"),0):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(f.error("Please enter a valid email address"),0):(f.error("Please fill in all fields"),0)){d(!0);try{await m(s.username,s.email,s.password),f.success("Account created successfully! Welcome to Revuo!"),x("/")}catch(t){f.error(t.message||"Registration failed. Please try again.")}finally{d(!1)}}},className:"space-y-6",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.jsx(j,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:s.username,onChange:u,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"Choose a username"})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.jsx(ce,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:u,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"Enter your email"})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.jsx(de,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:s.password,onChange:u,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"Create a password"}),Fe.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?Fe.jsx(me,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):Fe.jsx(R,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.jsx(de,{className:"h-5 w-5 text-gray-400"})}),Fe.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:u,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"Confirm your password"}),Fe.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!n),children:n?Fe.jsx(me,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):Fe.jsx(R,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]})]}),Fe.jsxs("div",{className:"flex items-start",children:[Fe.jsx("div",{className:"flex items-center h-5",children:Fe.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),Fe.jsx("div",{className:"ml-3 text-sm",children:Fe.jsxs("label",{htmlFor:"terms",className:"text-gray-700",children:["I agree to the"," ",Fe.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Terms of Service"})," ","and"," ",Fe.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Privacy Policy"})]})})]}),Fe.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),Fe.jsx("span",{children:"Creating account..."})]}):Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("span",{children:"Create Account"}),Fe.jsx(U,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),Fe.jsx("div",{className:"mt-6",children:Fe.jsxs("div",{className:"relative",children:[Fe.jsx("div",{className:"absolute inset-0 flex items-center",children:Fe.jsx("div",{className:"w-full border-t border-gray-300"})}),Fe.jsx("div",{className:"relative flex justify-center text-sm",children:Fe.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),Fe.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[Fe.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[Fe.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[Fe.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),Fe.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),Fe.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),Fe.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Fe.jsx("span",{className:"ml-2",children:"Google"})]}),Fe.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[Fe.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:Fe.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),Fe.jsx("span",{className:"ml-2",children:"Twitter"})]})]})]}),Fe.jsx("div",{className:"text-center",children:Fe.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",Fe.jsx(r,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-500 transition-colors",children:"Sign in here"})]})}),Fe.jsx("div",{className:"mt-8 grid grid-cols-1 gap-4",children:h.map((e,s)=>{const t=e.icon;return Fe.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-gray-100",children:Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx("div",{className:`w-8 h-8 ${{blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",green:"bg-green-100 text-green-600"}[e.color]} rounded-lg flex items-center justify-center`,children:Fe.jsx(t,{className:"w-4 h-4"})}),Fe.jsxs("div",{children:[Fe.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:e.title}),Fe.jsx("p",{className:"text-xs text-gray-600",children:e.description})]})]})},s)})})]})})},Ht=async()=>(await De("/api/users/profile")).json(),Gt=async e=>(await De("/api/users/profile",{method:"PUT",body:JSON.stringify(e)})).json(),Yt=async e=>{const s=new FormData;e.file?s.append("avatar",e.file):e.url&&s.append("avatarUrl",e.url);const t=await fetch("/api/users/avatar",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:s});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to upload avatar")}return t.json()},Qt=async(e={})=>{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t)});const t=`/api/users/reviews?${s.toString()}`;return(await De(t)).json()},Jt=async(e={})=>{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t)});const t=`/api/users/bookmarks?${s.toString()}`;return(await De(t)).json()},Xt=async(e={})=>{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t)});const t=`/api/users/activity?${s.toString()}`;return(await De(t)).json()},Kt=async()=>(await De("/api/users/account",{method:"DELETE"})).json(),Zt=()=>{var s,t,a,l,n,o,c,d,m,g;const{user:p,updateProfile:b,logout:y}=Ve(),v=x(),S=i(),[C,A]=e.useState(!1),[R,E]=e.useState("overview"),[D,M]=e.useState(null),[L,V]=e.useState(""),[U,I]=e.useState(!1),[q,$]=e.useState(!1),[z,B]=e.useState(!1),[H,G]=e.useState(""),[Y,Q]=e.useState({username:(null==p?void 0:p.username)||"",email:(null==p?void 0:p.email)||"",firstName:(null==p?void 0:p.firstName)||"",lastName:(null==p?void 0:p.lastName)||"",bio:(null==p?void 0:p.bio)||"",location:(null==p?void 0:p.location)||"",website:(null==p?void 0:p.website)||"",phone:(null==p?void 0:p.phone)||""});e.useEffect(()=>{p&&Q({username:p.username||"",email:p.email||"",firstName:p.firstName||"",lastName:p.lastName||"",bio:p.bio||"",location:p.location||"",website:p.website||"",phone:p.phone||""})},[p]);const{data:J,isLoading:X,error:K}=u(["user-profile",null==p?void 0:p.id],Ht,{enabled:!!(null==p?void 0:p.id),staleTime:3e5,retry:2,onError:e=>{f.error("Failed to load profile data")}}),{data:ee,isLoading:se}=u(["user-reviews",null==p?void 0:p.id],Qt,{enabled:!!(null==p?void 0:p.id),staleTime:3e5,retry:2,onError:e=>{f.error("Failed to load reviews")}}),{data:ae,isLoading:ie}=u(["user-bookmarks",null==p?void 0:p.id],Jt,{enabled:!!(null==p?void 0:p.id),staleTime:3e5,retry:2,onError:e=>{f.error("Failed to load bookmarks")}}),{data:le,isLoading:oe}=u(["user-activity",null==p?void 0:p.id],Xt,{enabled:!!(null==p?void 0:p.id),staleTime:3e5,retry:2,onError:e=>{f.error("Failed to load activity")}}),ce=h(Gt,{onSuccess:e=>{f.success("Profile updated successfully!"),b(e.user),A(!1),v.invalidateQueries(["user-profile"])},onError:e=>{f.error(e.message||"Failed to update profile")}}),de=h(Yt,{onSuccess:e=>{f.success("Profile photo updated successfully!"),b(e.user),$(!1),M(null),V(""),v.invalidateQueries(["user-profile"])},onError:e=>{f.error(e.message||"Failed to upload photo")}}),me=h(Kt,{onSuccess:()=>{f.success("Account deleted successfully"),y(),S("/")},onError:e=>{f.error(e.message||"Failed to delete account")}}),ue={totalReviews:(null==(s=null==ee?void 0:ee.reviews)?void 0:s.length)||0,totalBookmarks:(null==(t=null==ae?void 0:ae.bookmarks)?void 0:t.length)||0,averageRating:(null==(a=null==ee?void 0:ee.reviews)?void 0:a.length)>0?(ee.reviews.reduce((e,s)=>e+s.rating,0)/ee.reviews.length).toFixed(1):0,totalLikes:(null==(l=null==ee?void 0:ee.reviews)?void 0:l.reduce((e,s)=>e+(s.upvotes||0),0))||0},pe=[{id:"overview",label:"Overview",icon:j},{id:"reviews",label:"My Reviews",icon:P},{id:"bookmarks",label:"Bookmarks",icon:ne},{id:"activity",label:"Activity",icon:ge},{id:"settings",label:"Settings",icon:w}];return X?Fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):K?Fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx(xe,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load profile"}),Fe.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),Fe.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):Fe.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[Fe.jsxs("div",{className:"relative overflow-hidden",children:[Fe.jsxs("div",{className:"absolute inset-0",children:[Fe.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),Fe.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),Fe.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),Fe.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["My",Fe.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Profile"})]}),Fe.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Manage your profile, reviews, and preferences. Share your experiences with the community."})]})})]}),Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:Fe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 sm:gap-8",children:[Fe.jsx("div",{className:"lg:col-span-1",children:Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 sticky top-24",children:[Fe.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[Fe.jsxs("div",{className:"relative inline-block",children:[Fe.jsxs("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 mx-auto mb-3 sm:mb-4",children:[(null==p?void 0:p.avatar)?Fe.jsx("img",{src:p.avatar,alt:p.username,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,Fe.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:(null==p?void 0:p.avatar)?"none":"flex"},children:Fe.jsx(j,{className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-600"})})]}),Fe.jsx("button",{onClick:()=>$(!0),className:"absolute bottom-2 right-2 sm:bottom-4 sm:right-4 w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors shadow-lg touch-button",children:Fe.jsx(te,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),Fe.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:(null==p?void 0:p.firstName)&&(null==p?void 0:p.lastName)?`${p.firstName} ${p.lastName}`:null==p?void 0:p.username}),Fe.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:["@",null==p?void 0:p.username]}),(null==p?void 0:p.bio)&&Fe.jsx("p",{className:"text-gray-700 text-sm mb-4",children:p.bio}),(null==p?void 0:p.location)&&Fe.jsxs("div",{className:"flex items-center justify-center text-gray-600 text-sm mb-2",children:[Fe.jsx(T,{className:"w-4 h-4 mr-1"}),p.location]}),(null==p?void 0:p.website)&&Fe.jsxs("a",{href:p.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center text-blue-600 text-sm hover:text-blue-700 transition-colors",children:[Fe.jsx(F,{className:"w-4 h-4 mr-1"}),"Website"]})]}),Fe.jsxs("div",{className:"space-y-4 mb-6",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx(P,{className:"w-5 h-5 text-yellow-400"}),Fe.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reviews"})]}),Fe.jsx("span",{className:"text-lg font-bold text-gray-900",children:ue.totalReviews})]}),Fe.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx(ne,{className:"w-5 h-5 text-blue-500"}),Fe.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bookmarks"})]}),Fe.jsx("span",{className:"text-lg font-bold text-gray-900",children:ue.totalBookmarks})]}),Fe.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx(re,{className:"w-5 h-5 text-green-500"}),Fe.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Likes"})]}),Fe.jsx("span",{className:"text-lg font-bold text-gray-900",children:ue.totalLikes})]})]}),Fe.jsxs("div",{className:"space-y-2",children:[Fe.jsxs("button",{onClick:()=>A(!C),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[Fe.jsx(he,{className:"w-4 h-4"}),Fe.jsx("span",{children:C?"Cancel Edit":"Edit Profile"})]}),Fe.jsxs("button",{onClick:()=>y(),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:[Fe.jsx(N,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Logout"})]})]})]})}),Fe.jsx("div",{className:"lg:col-span-3",children:Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg mb-8",children:[Fe.jsx("div",{className:"border-b border-gray-200",children:Fe.jsx("nav",{className:"flex space-x-8 px-6 overflow-x-auto",children:pe.map(e=>{const s=e.icon;return Fe.jsxs("button",{onClick:()=>E(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap "+(R===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[Fe.jsx(s,{className:"w-4 h-4"}),Fe.jsx("span",{children:e.label})]},e.id)})})}),Fe.jsxs("div",{className:"p-6",children:["overview"===R&&Fe.jsxs("div",{className:"space-y-6",children:[Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),Fe.jsx("input",{type:"text",value:Y.username,onChange:e=>Q({...Y,username:e.target.value}),disabled:!C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),Fe.jsx("input",{type:"email",value:Y.email,onChange:e=>Q({...Y,email:e.target.value}),disabled:!C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),Fe.jsx("input",{type:"text",value:Y.firstName,onChange:e=>Q({...Y,firstName:e.target.value}),disabled:!C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),Fe.jsx("input",{type:"text",value:Y.lastName,onChange:e=>Q({...Y,lastName:e.target.value}),disabled:!C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),Fe.jsx("input",{type:"text",value:Y.location,onChange:e=>Q({...Y,location:e.target.value}),disabled:!C,placeholder:"City, Country",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),Fe.jsx("input",{type:"url",value:Y.website,onChange:e=>Q({...Y,website:e.target.value}),disabled:!C,placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),Fe.jsx("textarea",{value:Y.bio,onChange:e=>Q({...Y,bio:e.target.value}),disabled:!C,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 resize-none"})]}),C&&Fe.jsxs("div",{className:"flex justify-end space-x-3",children:[Fe.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),Fe.jsx("button",{onClick:async()=>{Y.username.trim()?await ce.mutateAsync(Y):f.error("Username is required")},disabled:ce.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:ce.isLoading?"Saving...":"Save Changes"})]})]}),"reviews"===R&&Fe.jsxs("div",{className:"space-y-6",children:[Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"My Reviews"}),Fe.jsxs("span",{className:"text-sm text-gray-500",children:[ue.totalReviews," reviews"]})]}),se?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading reviews..."})]}):0===(null==(n=null==ee?void 0:ee.reviews)?void 0:n.length)?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx(P,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),Fe.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),Fe.jsx("p",{className:"text-gray-600 mb-4",children:"Start reviewing entities to see them here"}),Fe.jsxs(r,{to:"/",className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(_,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Write Your First Review"})]})]}):Fe.jsx("div",{className:"space-y-4",children:null==(o=null==ee?void 0:ee.reviews)?void 0:o.map(e=>{var s,t,a,i,l,n;return Fe.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:Fe.jsxs("div",{className:"flex items-start space-x-4",children:[(null==(s=e.entity)?void 0:s.logo)?Fe.jsx("img",{src:e.entity.logo,alt:e.entity.name,className:"w-12 h-12 rounded-lg object-cover"}):Fe.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:Fe.jsx("span",{className:"text-lg font-bold text-blue-600",children:null==(a=null==(t=e.entity)?void 0:t.name)?void 0:a.charAt(0).toUpperCase()})}),Fe.jsxs("div",{className:"flex-1",children:[Fe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Fe.jsx(r,{to:`/entity/${null==(i=e.entity)?void 0:i._id}`,className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:null==(l=e.entity)?void 0:l.name}),Fe.jsx("span",{className:"text-sm text-gray-500",children:"â€¢"}),Fe.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-4 h-4 "+(s<=e.rating?"text-yellow-400 fill-current":"text-gray-300")},s))})]}),e.title&&Fe.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),e.comment&&Fe.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e.comment}),Fe.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[Fe.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()}),Fe.jsx("span",{children:"â€¢"}),Fe.jsxs("span",{children:[e.upvotes||0," likes"]}),(null==(n=e.tags)?void 0:n.length)>0&&Fe.jsxs(Fe.Fragment,{children:[Fe.jsx("span",{children:"â€¢"}),Fe.jsx("div",{className:"flex space-x-1",children:e.tags.slice(0,3).map((e,s)=>Fe.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:e},s))})]})]})]})]})},e._id)})})]}),"bookmarks"===R&&Fe.jsxs("div",{className:"space-y-6",children:[Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"My Bookmarks"}),Fe.jsxs("span",{className:"text-sm text-gray-500",children:[ue.totalBookmarks," bookmarks"]})]}),ie?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading bookmarks..."})]}):0===(null==(c=null==ae?void 0:ae.bookmarks)?void 0:c.length)?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx(ne,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),Fe.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarks yet"}),Fe.jsx("p",{className:"text-gray-600 mb-4",children:"Bookmark entities to see them here"}),Fe.jsxs(r,{to:"/categories",className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(F,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Explore Categories"})]})]}):Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null==(d=null==ae?void 0:ae.bookmarks)?void 0:d.map(e=>{var s,t,a,i,l,n,o,c,d;return Fe.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:Fe.jsxs("div",{className:"flex items-start space-x-3",children:[(null==(s=e.entity)?void 0:s.logo)?Fe.jsx("img",{src:e.entity.logo,alt:e.entity.name,className:"w-12 h-12 rounded-lg object-cover"}):Fe.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:Fe.jsx("span",{className:"text-lg font-bold text-blue-600",children:null==(a=null==(t=e.entity)?void 0:t.name)?void 0:a.charAt(0).toUpperCase()})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx(r,{to:`/entity/${null==(i=e.entity)?void 0:i._id}`,className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors block truncate",children:null==(l=e.entity)?void 0:l.name}),Fe.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[Fe.jsxs("div",{className:"flex items-center",children:[Fe.jsx(P,{className:"w-4 h-4 text-yellow-400 fill-current"}),Fe.jsx("span",{className:"text-sm text-gray-600 ml-1",children:null==(o=null==(n=e.entity)?void 0:n.averageRating)?void 0:o.toFixed(1)})]}),Fe.jsxs("span",{className:"text-sm text-gray-500",children:["(",null==(c=e.entity)?void 0:c.totalReviews," reviews)"]})]}),Fe.jsx("span",{className:"text-xs text-gray-500 capitalize",children:null==(d=e.entity)?void 0:d.category})]})]})},e._id)})})]}),"activity"===R&&Fe.jsxs("div",{className:"space-y-6",children:[Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"}),oe?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]}):0===(null==(m=null==le?void 0:le.activity)?void 0:m.length)?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx(ge,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),Fe.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activity yet"}),Fe.jsx("p",{className:"text-gray-600 mb-4",children:"Start reviewing and bookmarking to see your activity here"}),Fe.jsxs(r,{to:"/",className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(_,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Start Exploring"})]})]}):Fe.jsx("div",{className:"space-y-4",children:null==(g=null==le?void 0:le.activity)?void 0:g.map((e,s)=>{var t;return Fe.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:Fe.jsxs("div",{className:"flex items-center space-x-3",children:[Fe.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:Fe.jsx(P,{className:"w-5 h-5 text-blue-600"})}),Fe.jsxs("div",{className:"flex-1",children:[Fe.jsxs("p",{className:"text-gray-900",children:[Fe.jsx("span",{className:"font-medium",children:"You reviewed"})," ",(null==(t=e.entity)?void 0:t.name)||"an entity"]}),Fe.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]})]})},e._id||s)})})]}),"settings"===R&&Fe.jsxs("div",{className:"space-y-6",children:[Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Account Settings"}),Fe.jsxs("div",{className:"space-y-4",children:[Fe.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{children:[Fe.jsx("h4",{className:"font-medium text-gray-900",children:"Email Notifications"}),Fe.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates about your reviews and activity"})]}),Fe.jsx("button",{className:"w-12 h-6 bg-blue-600 rounded-full relative",children:Fe.jsx("div",{className:"w-4 h-4 bg-white rounded-full absolute top-1 right-1"})})]})}),Fe.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{children:[Fe.jsx("h4",{className:"font-medium text-gray-900",children:"Privacy"}),Fe.jsx("p",{className:"text-sm text-gray-600",children:"Control who can see your profile and reviews"})]}),Fe.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Manage"})]})}),Fe.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{children:[Fe.jsx("h4",{className:"font-medium text-gray-900",children:"Change Password"}),Fe.jsx("p",{className:"text-sm text-gray-600",children:"Update your account password"})]}),Fe.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Change"})]})}),Fe.jsx("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200",children:Fe.jsxs("div",{className:"flex items-center justify-between",children:[Fe.jsxs("div",{children:[Fe.jsx("h4",{className:"font-medium text-red-900",children:"Delete Account"}),Fe.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all data"})]}),Fe.jsx("button",{onClick:()=>B(!0),className:"text-red-600 hover:text-red-700 font-medium",children:"Delete"})]})})]})]})]})]})})]})}),q&&Fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Update Profile Photo"}),Fe.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(k,{className:"w-6 h-6"})})]}),Fe.jsxs("div",{className:"p-6 space-y-4",children:[Fe.jsx("div",{children:Fe.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx(O,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),Fe.jsx("p",{className:"text-sm text-gray-600",children:"Upload from device"}),Fe.jsx("p",{className:"text-xs text-gray-500",children:"Max 5MB"})]}),Fe.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){if(s.size>5242880)return void f.error("Image size should be less than 5MB");M(s),V("")}},className:"hidden"})]})}),Fe.jsxs("div",{children:[Fe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Fe.jsx(W,{className:"w-4 h-4 text-gray-400"}),Fe.jsx("span",{className:"text-sm text-gray-600",children:"Or import from URL"})]}),Fe.jsx("input",{type:"url",value:L,onChange:e=>{V(e.target.value),M(null)},placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(D||L)&&Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),Fe.jsxs("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-gray-100 mx-auto",children:[D?Fe.jsx("img",{src:URL.createObjectURL(D),alt:"Preview",className:"w-full h-full object-cover"}):Fe.jsx("img",{src:L,alt:"Preview",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),Fe.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:"none"},children:Fe.jsx(j,{className:"w-8 h-8 text-gray-400"})})]})]}),Fe.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[Fe.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),Fe.jsx("button",{onClick:async()=>{if(D||L){I(!0);try{await de.mutateAsync({file:D,url:L})}finally{I(!1)}}else f.error("Please select a photo or enter a URL")},disabled:U||!D&&!L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:U?"Uploading...":"Update Photo"})]})]})]})}),z&&Fe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[Fe.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Fe.jsx("h2",{className:"text-xl font-semibold text-red-900",children:"Delete Account"}),Fe.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(k,{className:"w-6 h-6"})})]}),Fe.jsxs("div",{className:"p-6 space-y-4",children:[Fe.jsxs("div",{className:"text-center",children:[Fe.jsx(Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),Fe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Are you sure?"}),Fe.jsx("p",{className:"text-gray-600 mb-4",children:"This action cannot be undone. All your data, reviews, and bookmarks will be permanently deleted."})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:'Type "DELETE" to confirm'}),Fe.jsx("input",{type:"text",value:H,onChange:e=>G(e.target.value),placeholder:"DELETE",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),Fe.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[Fe.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),Fe.jsx("button",{onClick:async()=>{"DELETE"===H?await me.mutateAsync():f.error("Please type DELETE to confirm")},disabled:"DELETE"!==H||me.isLoading,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:me.isLoading?"Deleting...":"Delete Account"})]})]})]})})]})},ea=()=>{var s,t,a,i,l;const[n,o]=e.useState(!1),[c,d]=e.useState(null),[m,x]=e.useState("all"),[h,g]=e.useState("grid"),[p,b]=e.useState("rating"),[f,y]=e.useState(!1);e.useEffect(()=>{const e=()=>{const e=window.scrollY;y(e>100)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const{data:v,isLoading:j}=u(["entities",{category:m,sort:p}],()=>Ue({category:"all"===m?void 0:m,sort:p,limit:50}),{staleTime:18e4,cacheTime:6e5,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:{entities:[],pagination:{current:1,pages:1,total:0,hasNext:!1,hasPrev:!1},trending:[]}}),w=e=>{d(e),o(!0)},N=()=>{d(null),o(!0)},k=[{id:"all",name:"All Categories",icon:pe,color:"from-gray-500 to-gray-600",count:"15K+",description:"Explore everything on Revuo"},{id:"website",name:"Websites",icon:F,color:"from-blue-500 to-blue-600",count:"2.5k+",description:"Web platforms and online services"},{id:"app",name:"Apps",icon:I,color:"from-purple-500 to-purple-600",count:"1.8k+",description:"Mobile and desktop applications"},{id:"place",name:"Places",icon:T,color:"from-green-500 to-green-600",count:"3.2k+",description:"Restaurants, hotels, and venues"},{id:"movie",name:"Movies",icon:L,color:"from-red-500 to-red-600",count:"1.1k+",description:"Films, TV shows, and entertainment"},{id:"product",name:"Products",icon:M,color:"from-orange-500 to-orange-600",count:"4.1k+",description:"Physical and digital products"},{id:"service",name:"Services",icon:q,color:"from-indigo-500 to-indigo-600",count:"2.9k+",description:"Professional and personal services"},{id:"restaurant",name:"Restaurants",icon:q,color:"from-pink-500 to-pink-600",count:"1.5k+",description:"Dining experiences and food services"}],S=[{value:"rating",label:"Highest Rated",icon:P},{value:"reviews",label:"Most Reviewed",icon:Y},{value:"recent",label:"Recently Added",icon:X},{value:"name",label:"Alphabetical",icon:be}];return Fe.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[f&&Fe.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm transition-all duration-300",children:Fe.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:Fe.jsx(Ye,{onAddToRevuo:w})})}),Fe.jsxs("div",{className:"relative overflow-hidden",children:[Fe.jsxs("div",{className:"absolute inset-0",children:[Fe.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),Fe.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),Fe.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),Fe.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsxs("div",{className:"mb-8",children:[Fe.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Explore",Fe.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Categories"})]}),Fe.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Discover amazing entities across all categories. Find what you're looking for or add something new to the community."})]}),Fe.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:Fe.jsx(Ye,{onAddToRevuo:w})}),Fe.jsx("div",{className:"flex justify-center mb-12",children:Fe.jsxs("button",{onClick:N,className:"group relative px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200 flex items-center space-x-2",children:[Fe.jsx(_,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Add New Entity"}),Fe.jsx(U,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})]}),Fe.jsx("div",{className:"py-8 bg-white border-b border-gray-100",children:Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Fe.jsx("div",{className:"flex flex-wrap gap-3",children:k.map(e=>Fe.jsxs("button",{onClick:()=>x(e.id),className:"group relative px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2 "+(m===e.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md"),children:[Fe.jsx(e.icon,{className:"w-5 h-5 "+(m===e.id?"text-white":"text-gray-500")}),Fe.jsx("span",{children:e.name}),Fe.jsxs("span",{className:"text-sm "+(m===e.id?"text-blue-100":"text-gray-500"),children:["(",e.count,")"]})]},e.id))})})}),Fe.jsx("div",{className:"py-6 bg-gray-50",children:Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Fe.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[Fe.jsx("div",{className:"text-gray-600",children:j?Fe.jsx("span",{children:"Loading..."}):Fe.jsxs("span",{children:[(null==(s=null==v?void 0:v.entities)?void 0:s.length)||0," entities found","all"!==m&&` in ${null==(t=k.find(e=>e.id===m))?void 0:t.name}`]})}),Fe.jsxs("div",{className:"flex items-center space-x-4",children:[Fe.jsxs("div",{className:"relative",children:[Fe.jsx("select",{value:p,onChange:e=>b(e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:S.map(e=>Fe.jsx("option",{value:e.value,children:e.label},e.value))}),Fe.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Fe.jsx(J,{className:"w-4 h-4 text-gray-400"})})]}),Fe.jsxs("div",{className:"flex bg-white border border-gray-300 rounded-lg p-1",children:[Fe.jsx("button",{onClick:()=>g("grid"),className:"p-2 rounded-md transition-colors "+("grid"===h?"bg-blue-100 text-blue-600":"text-gray-500 hover:text-gray-700"),children:Fe.jsx(pe,{className:"w-4 h-4"})}),Fe.jsx("button",{onClick:()=>g("list"),className:"p-2 rounded-md transition-colors "+("list"===h?"bg-blue-100 text-blue-600":"text-gray-500 hover:text-gray-700"),children:Fe.jsx(fe,{className:"w-4 h-4"})})]})]})]})})}),Fe.jsx("div",{className:"py-12",children:Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:j?Fe.jsx("div",{className:"text-center py-12",children:Fe.jsxs("div",{className:"inline-flex items-center space-x-2",children:[Fe.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),Fe.jsx("span",{className:"text-gray-600",children:"Loading entities..."})]})}):0===(null==(a=null==v?void 0:v.entities)?void 0:a.length)?Fe.jsxs("div",{className:"text-center py-12",children:[Fe.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:Fe.jsx(A,{className:"w-12 h-12 text-gray-400"})}),Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No entities found"}),Fe.jsx("p",{className:"text-gray-600 mb-6",children:"all"===m?"No entities have been added yet. Be the first to add something!":`No entities found in ${null==(i=k.find(e=>e.id===m))?void 0:i.name}. Be the first to add one!`}),Fe.jsxs("button",{onClick:N,className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(_,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Add New Entity"})]})]}):Fe.jsx("div",{className:"grid"===h?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:null==(l=null==v?void 0:v.entities)?void 0:l.map(e=>Fe.jsx("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-2 transition-all duration-200 border border-gray-100 cursor-pointer "+("list"===h?"flex items-center space-x-4 p-6":"p-6"),children:"grid"===h?Fe.jsxs("div",{className:"space-y-4",children:[Fe.jsxs("div",{className:"flex items-start space-x-4",children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-16 h-16 rounded-xl object-cover shadow-sm"}):Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center",children:Fe.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors line-clamp-2",children:e.name}),Fe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Fe.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-4 h-4 "+(s<=e.averageRating?"text-yellow-400 fill-current":"text-gray-300")},s))}),Fe.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.averageRating.toFixed(1)})]}),Fe.jsxs("p",{className:"text-sm text-gray-500",children:[e.totalReviews," reviews"]})]})]}),e.description&&Fe.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),Fe.jsxs("div",{className:"flex items-center justify-between pt-2",children:[Fe.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:e.category}),Fe.jsx(r,{to:`/entity/${e._id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details â†’"})]})]}):Fe.jsxs(Fe.Fragment,{children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-20 h-20 rounded-xl object-cover shadow-sm flex-shrink-0"}):Fe.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:Fe.jsx("span",{className:"text-3xl font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.name}),e.description&&Fe.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),Fe.jsxs("div",{className:"flex items-center space-x-4",children:[Fe.jsxs("div",{className:"flex items-center space-x-2",children:[Fe.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-4 h-4 "+(s<=e.averageRating?"text-yellow-400 fill-current":"text-gray-300")},s))}),Fe.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.averageRating.toFixed(1)})]}),Fe.jsxs("span",{className:"text-sm text-gray-500",children:[e.totalReviews," reviews"]}),Fe.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:e.category})]})]}),Fe.jsx(r,{to:`/entity/${e._id}`,className:"text-blue-600 hover:text-blue-700 font-medium flex-shrink-0",children:"View Details â†’"})]})},e._id))})})}),Fe.jsx(mt,{isOpen:n,initialData:c,onClose:()=>{o(!1),d(null)}})]})},sa=()=>{var s;const[t,a]=n(),[r,i]=e.useState([]),[l,o]=e.useState(""),[c,d]=e.useState(!1);e.useEffect(()=>{var e;const s=(null==(e=t.get("entities"))?void 0:e.split(",").filter(Boolean))||[];i(s)},[t]),e.useEffect(()=>{r.length>0?a({entities:r.join(",")}):a({})},[r,a]);const{data:m,isLoading:x}=u(["entities-for-compare"],()=>Ue({limit:100,sort:"averageRating",order:"desc"}),{staleTime:3e5,enabled:c}),{data:h,isLoading:g}=u(["compare-entities",r],async()=>{if(0===r.length)return[];const e=r.map(e=>Ie(e));return Promise.all(e)},{enabled:r.length>0,staleTime:3e5}),p=(null==(s=null==m?void 0:m.entities)?void 0:s.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.category.toLowerCase().includes(l.toLowerCase())))||[],b=e=>Fe.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(s=>Fe.jsx(P,{className:"w-4 h-4 "+(s<=e?"text-yellow-400 fill-current":"text-gray-300")},s)),Fe.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",e.toFixed(1),")"]})]});return g?Fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading comparison data..."})]})}):Fe.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[Fe.jsxs("div",{className:"relative overflow-hidden",children:[Fe.jsxs("div",{className:"absolute inset-0",children:[Fe.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),Fe.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),Fe.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-100 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),Fe.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Compare",Fe.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Entities"})]}),Fe.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Make informed decisions by comparing entities side by side. Analyze ratings, reviews, and features."})]})})]}),Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[Fe.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:Fe.jsxs("div",{className:"flex items-center space-x-4",children:[Fe.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(_,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Add Entity"})]}),r.length>0&&Fe.jsx("button",{onClick:()=>{i([]),f.success("Comparison cleared")},className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:Fe.jsx("span",{children:"Clear All"})})]})}),c&&Fe.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[Fe.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[Fe.jsxs("div",{className:"flex-1 relative",children:[Fe.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),Fe.jsx("input",{type:"text",placeholder:"Search entities...",value:l,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),Fe.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:Fe.jsx(k,{className:"w-4 h-4"})})]}),x?Fe.jsxs("div",{className:"text-center py-8",children:[Fe.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),Fe.jsx("p",{className:"text-gray-600",children:"Loading entities..."})]}):Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:p.map(e=>{var s;return Fe.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-colors cursor-pointer",onClick:()=>{return s=e._id,void(r.length>=4?f.error("You can compare up to 4 entities at once"):r.includes(s)?f.error("Entity already added to comparison"):(i([...r,s]),d(!1),o("")));var s},children:Fe.jsxs("div",{className:"flex items-start space-x-3",children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}):Fe.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:Fe.jsx("span",{className:"text-lg font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),Fe.jsxs("div",{className:"flex-1 min-w-0",children:[Fe.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:e.name}),Fe.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.category}),Fe.jsxs("div",{className:"flex items-center mt-1",children:[Fe.jsx(P,{className:"w-4 h-4 text-yellow-400 fill-current"}),Fe.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:[null==(s=e.averageRating)?void 0:s.toFixed(1)," (",e.totalReviews," reviews)"]})]})]})]})},e._id)})})]})]}),r.length>0&&h&&Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg mb-8",children:[Fe.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Fe.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Comparing ",h.length," Entities"]}),Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(e=>Fe.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 relative",children:[Fe.jsx("button",{onClick:()=>{return s=e._id,void i(r.filter(e=>e!==s));var s},className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 transition-colors",children:Fe.jsx(k,{className:"w-4 h-4"})}),Fe.jsxs("div",{className:"text-center",children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-16 h-16 rounded-lg object-cover mx-auto mb-3"}):Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:Fe.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),Fe.jsx("p",{className:"text-sm text-gray-600 capitalize mb-2",children:e.category}),Fe.jsx("div",{className:"flex items-center justify-center mb-2",children:b(e.averageRating||0)}),Fe.jsxs("p",{className:"text-sm text-gray-600",children:[e.totalReviews||0," reviews"]})]})]},e._id))})]}),Fe.jsx("div",{className:"p-6",children:Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:h.map(e=>{var s;return Fe.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[Fe.jsxs("div",{className:"text-center mb-4",children:[e.logo?Fe.jsx("img",{src:e.logo,alt:e.name,className:"w-16 h-16 rounded-lg object-cover mx-auto mb-3"}):Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:Fe.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),Fe.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),Fe.jsx("p",{className:"text-sm text-gray-600 capitalize mb-2",children:e.category}),Fe.jsx("div",{className:"flex items-center justify-center mb-2",children:b(e.averageRating||0)})]}),Fe.jsxs("div",{className:"space-y-3",children:[Fe.jsxs("div",{className:"flex justify-between",children:[Fe.jsx("span",{className:"text-sm text-gray-600",children:"Reviews:"}),Fe.jsx("span",{className:"font-medium",children:e.totalReviews||0})]}),Fe.jsxs("div",{className:"flex justify-between",children:[Fe.jsx("span",{className:"text-sm text-gray-600",children:"Views:"}),Fe.jsx("span",{className:"font-medium",children:e.viewCount||0})]}),Fe.jsxs("div",{className:"flex justify-between",children:[Fe.jsx("span",{className:"text-sm text-gray-600",children:"Features:"}),Fe.jsx("span",{className:"font-medium",children:(null==(s=e.features)?void 0:s.length)||0})]}),e.website&&Fe.jsx("div",{className:"pt-2",children:Fe.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm",children:"Visit Website"})})]})]},e._id)})})})]}),0===r.length&&Fe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[Fe.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:Fe.jsx(z,{className:"w-12 h-12 text-blue-600"})}),Fe.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Start Comparing"}),Fe.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Add entities to compare their features, ratings, and reviews side by side. Make informed decisions with detailed comparisons."}),Fe.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Fe.jsx(_,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Add First Entity"})]})]})]})]})},ta=()=>{var s;const[t,a]=e.useState(""),[i,l]=e.useState({}),[n,o]=e.useState("general"),c=[{id:"general",name:"General",icon:ye},{id:"entities",name:"Entities & Reviews",icon:P},{id:"compare",name:"Compare Feature",icon:z},{id:"account",name:"Account & Profile",icon:Q},{id:"technical",name:"Technical Issues",icon:w}],d={general:[{question:"What is Revuo?",answer:"Revuo is a comprehensive review platform that allows users to discover, review, and compare various entities including apps, websites, products, services, restaurants, and more. Our platform provides detailed insights and user-generated reviews to help you make informed decisions."},{question:"How do I get started?",answer:"Getting started is easy! Simply create an account, browse entities, read reviews, and start contributing your own reviews. You can also use our compare feature to compare multiple entities side-by-side."},{question:"Is Revuo free to use?",answer:"Yes, Revuo is completely free to use! You can browse entities, read reviews, and contribute your own reviews without any cost. We believe in providing valuable information to everyone."},{question:"How can I contact support?",answer:"You can contact our support team through our Contact page, email us at revoumail@gmail.com, or use the contact form. We typically respond within 24 hours."}],entities:[{question:"How do I add a new entity?",answer:"To add a new entity, you need to be logged in. Click on 'Add Entity' in the navigation, fill out the required information including name, description, category, and any additional details. Your submission will be reviewed and published."},{question:"How do I write a good review?",answer:"A good review should be honest, detailed, and helpful to other users. Include your personal experience, pros and cons, and a rating. Be specific about what you liked or didn't like, and provide constructive feedback."},{question:"Can I edit or delete my reviews?",answer:"Yes, you can edit or delete your reviews from your profile page. Go to your profile, navigate to the 'My Reviews' tab, and you'll see options to edit or delete your reviews."},{question:"How are entity ratings calculated?",answer:"Entity ratings are calculated as the average of all user reviews. We use a weighted system that considers the number of reviews and their recency to provide accurate and fair ratings."}],compare:[{question:"How does the compare feature work?",answer:"The compare feature allows you to select up to 4 entities and view them side-by-side. Click the 'Compare' button on any entity card to add it to your comparison. You can then view detailed comparisons of ratings, reviews, and other attributes."},{question:"How many entities can I compare at once?",answer:"You can compare up to 4 entities at once. This limit ensures optimal performance and readability of the comparison results."},{question:"Can I share my comparisons?",answer:"Yes! The comparison URL can be shared with others. Simply copy the URL from your browser when viewing a comparison, and others can see the same comparison results."},{question:"How do I remove entities from comparison?",answer:"On the compare page, you can remove entities by clicking the remove button next to each entity. The URL will automatically update to reflect your changes."}],account:[{question:"How do I create an account?",answer:"Click on 'Sign Up' in the navigation, fill out the registration form with your email, username, and password. Verify your email address, and you're ready to start using Revuo!"},{question:"I forgot my password. How do I reset it?",answer:"On the login page, click 'Forgot Password?' and enter your email address. You'll receive a password reset link via email. Click the link to set a new password."},{question:"How do I update my profile information?",answer:"Go to your profile page, click 'Edit Profile', and update your information. You can change your username, email, avatar, and other profile details. Don't forget to save your changes."},{question:"How do I delete my account?",answer:"To delete your account, go to your profile page, navigate to the 'Settings' tab, and click 'Delete Account'. Please note that this action is irreversible and will permanently delete all your data."}],technical:[{question:"The website is loading slowly. What should I do?",answer:"Try refreshing the page, clearing your browser cache, or using a different browser. If the issue persists, it might be a temporary server issue. Please try again later or contact support."},{question:"I'm having trouble uploading images. What's wrong?",answer:"Make sure your image is in a supported format (JPG, PNG, GIF) and under 5MB. If you're still having issues, try using a different browser or check your internet connection."},{question:"The compare feature isn't working properly.",answer:"Try refreshing the page and clearing your browser cache. Make sure you're not trying to compare more than 4 entities. If the issue continues, please contact support with specific details about the problem."},{question:"I'm getting error messages. What should I do?",answer:"Note down the exact error message and try refreshing the page. If the error persists, contact our support team with the error details, your browser information, and steps to reproduce the issue."}]},m=t?Object.values(d).flat().filter(e=>e.question.toLowerCase().includes(t.toLowerCase())||e.answer.toLowerCase().includes(t.toLowerCase())):d[n]||[],x=[{title:"Getting Started",icon:be,link:"#getting-started"},{title:"Writing Reviews",icon:Y,link:"#writing-reviews"},{title:"Compare Feature",icon:z,link:"#compare-feature"},{title:"Account Settings",icon:w,link:"#account-settings"}];return Fe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Fe.jsx("div",{className:"bg-white shadow-sm border-b",children:Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help Center"}),Fe.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Find answers to your questions and learn how to use Revuo effectively"}),Fe.jsx("div",{className:"max-w-2xl mx-auto",children:Fe.jsxs("div",{className:"relative",children:[Fe.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),Fe.jsx("input",{type:"text",placeholder:"Search for help articles, FAQs, or guides...",value:t,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})})}),Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Fe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[Fe.jsx("div",{className:"lg:col-span-1",children:Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-8",children:[Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),Fe.jsx("nav",{className:"space-y-2",children:c.map(e=>{const s=e.icon;return Fe.jsxs("button",{onClick:()=>o(e.id),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors "+(n===e.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"),children:[Fe.jsx(s,{className:"w-5 h-5"}),Fe.jsx("span",{className:"font-medium",children:e.name})]},e.id)})}),Fe.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[Fe.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Need More Help?"}),Fe.jsxs("div",{className:"space-y-3",children:[Fe.jsxs(r,{to:"/contact",className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700",children:[Fe.jsx(ce,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Contact Support"})]}),Fe.jsxs("a",{href:"mailto:revoumail@gmail.com",className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-700",children:[Fe.jsx(ce,{className:"w-4 h-4"}),Fe.jsx("span",{children:"Email Us"})]})]})]})]})}),Fe.jsxs("div",{className:"lg:col-span-3",children:[!t&&Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Popular Topics"}),Fe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(e=>{const s=e.icon;return Fe.jsxs("a",{href:e.link,className:"flex items-center space-x-3 p-4 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[Fe.jsx(s,{className:"w-6 h-6 text-primary-600"}),Fe.jsx("span",{className:"font-medium text-gray-900",children:e.title})]},e.title)})})]}),Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[Fe.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Fe.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Search Results":`${null==(s=c.find(e=>e.id===n))?void 0:s.name} FAQs`}),t&&Fe.jsxs("p",{className:"text-gray-600 mt-1",children:["Found ",m.length," result",1!==m.length?"s":"",' for "',t,'"']})]}),Fe.jsx("div",{className:"divide-y divide-gray-200",children:m.length>0?m.map((e,s)=>Fe.jsxs("div",{className:"p-6",children:[Fe.jsxs("button",{onClick:()=>{return e=s,void l(s=>({...s,[e]:!s[e]}));var e},className:"w-full flex items-center justify-between text-left",children:[Fe.jsx("h3",{className:"text-lg font-medium text-gray-900 pr-4",children:e.question}),i[s]?Fe.jsx(J,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}):Fe.jsx(ve,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),i[s]&&Fe.jsx("div",{className:"mt-4 text-gray-600 leading-relaxed",children:e.answer})]},s)):Fe.jsxs("div",{className:"p-6 text-center",children:[Fe.jsx(ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),Fe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),Fe.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or browse our categories for help."})]})})]}),Fe.jsx("div",{className:"mt-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Still need help?"}),Fe.jsx("p",{className:"text-primary-100 mb-4",children:"Can't find what you're looking for? Our support team is here to help."}),Fe.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[Fe.jsx(r,{to:"/contact",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-sm font-medium rounded-lg text-primary-600 bg-white hover:bg-gray-50 transition-colors",children:"Contact Support"}),Fe.jsx("a",{href:"mailto:revoumail@gmail.com",className:"inline-flex items-center justify-center px-6 py-3 border border-white text-sm font-medium rounded-lg text-white hover:bg-white hover:text-primary-600 transition-colors",children:"Send Email"})]})]})})]})]})})]})},aa=()=>{const[s,t]=e.useState({name:"",email:"",subject:"",message:""}),[a,r]=e.useState(!1),[i,l]=e.useState(!1),n=e=>{const{name:s,value:a}=e.target;t(e=>({...e,[s]:a}))},o=[{icon:ce,title:"Email Us",value:"revoumail@gmail.com",link:"mailto:revoumail@gmail.com",description:"Send us an email anytime"},{icon:Y,title:"Live Chat",value:"Available 24/7",link:"#",description:"Chat with our support team"},{icon:X,title:"Response Time",value:"Within 24 hours",link:null,description:"We typically respond within 24 hours"}],c=[{title:"General Inquiries",description:"Questions about our platform and services",icon:Y},{title:"Technical Support",description:"Help with technical issues and bugs",icon:Y},{title:"Account Issues",description:"Problems with your account or profile",icon:Y},{title:"Feature Requests",description:"Suggestions for new features",icon:Y}];return i?Fe.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Fe.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-sm p-8 text-center",children:[Fe.jsx(ue,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),Fe.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Message Sent!"}),Fe.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We've received your message and will get back to you within 24 hours."}),Fe.jsx("button",{onClick:()=>l(!1),className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:"Send Another Message"})]})}):Fe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Fe.jsx("div",{className:"bg-white shadow-sm border-b",children:Fe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:Fe.jsxs("div",{className:"text-center",children:[Fe.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),Fe.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have a question, suggestion, or need help? We'd love to hear from you. Our support team is here to help you get the most out of Revuo."})]})})}),Fe.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[Fe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[Fe.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Send us a Message"}),Fe.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.name&&s.email&&s.subject&&s.message)if(s.email.includes("@")){r(!0);try{const e=await De("/contact/submit",{method:"POST",data:s});e.success?(l(!0),f.success(e.message||"Message sent successfully! We'll get back to you soon."),t({name:"",email:"",subject:"",message:""})):f.error(e.message||"Failed to send message. Please try again.")}catch(a){f.error("Failed to send message. Please try again.")}finally{r(!1)}}else f.error("Please enter a valid email address");else f.error("Please fill in all fields")},className:"space-y-6",children:[Fe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),Fe.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your full name",required:!0})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),Fe.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"your.email@example.com",required:!0})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),Fe.jsxs("select",{id:"subject",name:"subject",value:s.subject,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[Fe.jsx("option",{value:"",children:"Select a subject"}),Fe.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),Fe.jsx("option",{value:"Technical Support",children:"Technical Support"}),Fe.jsx("option",{value:"Account Issue",children:"Account Issue"}),Fe.jsx("option",{value:"Feature Request",children:"Feature Request"}),Fe.jsx("option",{value:"Bug Report",children:"Bug Report"}),Fe.jsx("option",{value:"Partnership",children:"Partnership"}),Fe.jsx("option",{value:"Other",children:"Other"})]})]}),Fe.jsxs("div",{children:[Fe.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),Fe.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:n,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",placeholder:"Tell us how we can help you...",required:!0})]}),Fe.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary-600 text-white py-3 px-6 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:a?Fe.jsxs(Fe.Fragment,{children:[Fe.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),Fe.jsx("span",{children:"Sending..."})]}):Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(se,{className:"w-5 h-5"}),Fe.jsx("span",{children:"Send Message"})]})})]})]}),Fe.jsxs("div",{className:"space-y-8",children:[Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Get in Touch"}),Fe.jsx("div",{className:"space-y-4",children:o.map((e,s)=>{const t=e.icon;return Fe.jsxs("div",{className:"flex items-start space-x-4",children:[Fe.jsx("div",{className:"flex-shrink-0",children:Fe.jsx(t,{className:"w-6 h-6 text-primary-600"})}),Fe.jsxs("div",{className:"flex-1",children:[Fe.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),e.link?Fe.jsx("a",{href:e.link,className:"text-primary-600 hover:text-primary-700 text-sm",children:e.value}):Fe.jsx("p",{className:"text-gray-600 text-sm",children:e.value}),Fe.jsx("p",{className:"text-gray-500 text-xs mt-1",children:e.description})]})]},s)})})]}),Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[Fe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Common Topics"}),Fe.jsx("div",{className:"space-y-4",children:c.map((e,s)=>{const t=e.icon;return Fe.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[Fe.jsx(t,{className:"w-5 h-5 text-primary-600 mt-0.5"}),Fe.jsxs("div",{children:[Fe.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),Fe.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]})]},s)})})]}),Fe.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:[Fe.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[Fe.jsx(X,{className:"w-6 h-6"}),Fe.jsx("h3",{className:"text-lg font-semibold",children:"Response Time"})]}),Fe.jsx("p",{className:"text-primary-100 mb-4",children:"We typically respond to all inquiries within 24 hours during business days."}),Fe.jsxs("div",{className:"text-sm text-primary-100",children:[Fe.jsxs("p",{children:[Fe.jsx("strong",{children:"Business Hours:"})," Monday - Friday, 9:00 AM - 6:00 PM EST"]}),Fe.jsxs("p",{children:[Fe.jsx("strong",{children:"Weekend Support:"})," Available for urgent issues"]})]})]})]})]}),Fe.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:[Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[Fe.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:Fe.jsx(Y,{className:"w-6 h-6 text-primary-600"})}),Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"24/7 Support"}),Fe.jsx("p",{className:"text-gray-600 text-sm",children:"Our support team is available around the clock to help you with any issues."})]}),Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[Fe.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:Fe.jsx(ue,{className:"w-6 h-6 text-primary-600"})}),Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Response"}),Fe.jsx("p",{className:"text-gray-600 text-sm",children:"We aim to respond to all inquiries within 24 hours, often much sooner."})]}),Fe.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[Fe.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:Fe.jsx(xe,{className:"w-6 h-6 text-primary-600"})}),Fe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Expert Help"}),Fe.jsx("p",{className:"text-gray-600 text-sm",children:"Our team of experts is here to provide you with the best possible assistance."})]})]})]})]})},ra=({children:e})=>{const{user:s,loading:t}=Ve();return t?Fe.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Fe.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?e:Fe.jsx(o,{to:"/login",replace:!0})};function ia(){const{user:e}=Ve();return Fe.jsx(We,{children:Fe.jsxs(c,{children:[Fe.jsx(d,{path:"/",element:Fe.jsx(xt,{})}),Fe.jsx(d,{path:"/posts",element:Fe.jsx(Ot,{})}),Fe.jsx(d,{path:"/entity/:id",element:Fe.jsx($t,{})}),Fe.jsx(d,{path:"/categories",element:Fe.jsx(ea,{})}),Fe.jsx(d,{path:"/compare",element:Fe.jsx(sa,{})}),Fe.jsx(d,{path:"/help",element:Fe.jsx(ta,{})}),Fe.jsx(d,{path:"/contact",element:Fe.jsx(aa,{})}),Fe.jsx(d,{path:"/login",element:Fe.jsx(zt,{})}),Fe.jsx(d,{path:"/register",element:Fe.jsx(Bt,{})}),Fe.jsx(d,{path:"/profile",element:Fe.jsx(ra,{children:Fe.jsx(Zt,{})})})]})})}class la extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s})}render(){return this.state.hasError?Fe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center px-4",children:Fe.jsxs("div",{className:"max-w-md w-full text-center",children:[Fe.jsxs("div",{className:"mb-8",children:[Fe.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-xl mx-auto mb-6",children:Fe.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),Fe.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),Fe.jsx("p",{className:"text-gray-600 mb-8",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."})]}),Fe.jsxs("div",{className:"space-y-4",children:[Fe.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:"Refresh Page"}),Fe.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors",children:"Go Back"})]}),!1]})}):this.props.children}}const na=new g({defaultOptions:{queries:{retry:(e,s)=>{var t,a;return!((null==(t=null==s?void 0:s.response)?void 0:t.status)>=400&&(null==(a=null==s?void 0:s.response)?void 0:a.status)<500)&&e<2},refetchOnWindowFocus:!1,refetchOnReconnect:!0,staleTime:12e4,cacheTime:6e5,refetchOnMount:!1,onError:e=>{}},mutations:{retry:!1,onError:e=>{}}}});Pe.createRoot(document.getElementById("root")).render(Fe.jsx(t.StrictMode,{children:Fe.jsx(la,{children:Fe.jsx(p,{client:na,children:Fe.jsx(m,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:Fe.jsxs(Oe,{children:[Fe.jsx(ia,{}),Fe.jsx(y,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",fontSize:"14px",maxWidth:"400px"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})}));
